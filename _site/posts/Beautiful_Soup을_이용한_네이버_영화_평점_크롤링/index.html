<!DOCTYPE html><html lang="ko" mode="light" > <!-- The Head v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Beautiful Soup을 이용한 네이버 영화 평점 크롤링 | Data Include Me</title><meta name="generator" content="Jekyll v3.9.3" /><meta property="og:title" content="Beautiful Soup을 이용한 네이버 영화 평점 크롤링" /><meta name="author" content="HyunMin Kim" /><meta property="og:locale" content="ko" /><meta name="description" content="1. 네이버 영화 평점 1.1 네이버 영화 평점" /><meta property="og:description" content="1. 네이버 영화 평점 1.1 네이버 영화 평점" /><link rel="canonical" href="https://datainclude.me/posts/Beautiful_Soup%EC%9D%84_%EC%9D%B4%EC%9A%A9%ED%95%9C_%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8F%89%EC%A0%90_%ED%81%AC%EB%A1%A4%EB%A7%81/" /><meta property="og:url" content="https://datainclude.me/posts/Beautiful_Soup%EC%9D%84_%EC%9D%B4%EC%9A%A9%ED%95%9C_%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8F%89%EC%A0%90_%ED%81%AC%EB%A1%A4%EB%A7%81/" /><meta property="og:site_name" content="Data Include Me" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-10-22T11:10:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Beautiful Soup을 이용한 네이버 영화 평점 크롤링" /><meta name="twitter:site" content="@" /><meta name="twitter:creator" content="@HyunMin Kim" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"HyunMin Kim"},"dateModified":"2020-10-22T11:10:00+09:00","datePublished":"2020-10-22T11:10:00+09:00","description":"1. 네이버 영화 평점 1.1 네이버 영화 평점","headline":"Beautiful Soup을 이용한 네이버 영화 평점 크롤링","mainEntityOfPage":{"@type":"WebPage","@id":"https://datainclude.me/posts/Beautiful_Soup%EC%9D%84_%EC%9D%B4%EC%9A%A9%ED%95%9C_%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8F%89%EC%A0%90_%ED%81%AC%EB%A1%A4%EB%A7%81/"},"url":"https://datainclude.me/posts/Beautiful_Soup%EC%9D%84_%EC%9D%B4%EC%9A%A9%ED%95%9C_%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8F%89%EC%A0%90_%ED%81%AC%EB%A1%A4%EB%A7%81/"}</script><meta property="og:image" content="https://datainclude.me/assets/img/sample/avatar.jpg" /> <!-- The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps Generated by: https://www.favicon-generator.org/ v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT license --><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="36x36" href="/assets/img/favicons/android-icon-36x36.png"><link rel="icon" type="image/png" sizes="48x48" href="/assets/img/favicons/android-icon-48x48.png"><link rel="icon" type="image/png" sizes="72x72" href="/assets/img/favicons/android-icon-72x72.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/android-icon-96x96.png"><link rel="icon" type="image/png" sizes="144x144" href="/assets/img/favicons/android-icon-144x144.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="70x70" href="/assets/img/favicons/ms-icon-70x70.png"><link rel="icon" type="image/png" sizes="144x144" href="/assets/img/favicons/ms-icon-144x144.png"><link rel="icon" type="image/png" sizes="150x150" href="/assets/img/favicons/ms-icon-150x150.png"><link rel="icon" type="image/png" sizes="310x310" href="/assets/img/favicons/ms-icon-310x310.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preload" href="https://www.googletagmanager.com/gtm.js?id=GTM-MW9VRMW9" as="script"> <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= 'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-MW9VRMW9');</script><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="preload" as="style" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous" media="print" onload="this.media='all'"> <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"> </noscript> <!-- CSS selector for site. Chirpy v2.3 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT Licensed --><link rel="preload" as="style" href="/assets/css/post.css"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /><link rel="preload" as="script" href="https://cdn.jsdelivr.net/npm/jquery@3.4.1" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"> <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" async></script> <!-- JS selector for site. Chirpy v2.3 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT Licensed --> <script src="/assets/js/post.min.js" async></script> <script src="/app.js" defer></script><body data-spy="scroll" data-target="#toc"> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MW9VRMW9" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="sidebar" class="d-flex flex-column"> <!-- The Side Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="nav-wrapper"><div id="profile-wrapper" class="d-flex flex-column"><div id="avatar" class="d-flex justify-content-center"> <a href="/" alt="avatar"> <img src="/assets/img/sample/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="profile-text mt-3"><div class="site-title"> <a href="/">Data Include Me</a></div><div class="site-subtitle font-italic">Data Science Blog</div></div></div><ul class="nav flex-column"><li class="nav-item d-flex justify-content-center "> <a href="/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/archives/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/about/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></li></ul></div><div class="sidebar-bottom d-flex flex-wrap justify-content-around mt-4"> <a href="https://github.com/hmkim312" target="_blank"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/" target="_blank"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:window.open('mailto:' + ['sanarial312','gmail.com'].join('@'))" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" > <i class="fas fa-rss"></i> </a></div></div><!-- The Top Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Beautiful Soup을 이용한 네이버 영화 평점 크롤링</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"> <!-- Refactor the HTML structure. --> <!-- Suroundding the markdown table with '<div class="table-wrapper">. and '</div>' --> <!-- Fixed kramdown code highlight rendering: https://github.com/penibelst/jekyll-compress-html/issues/101 https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901 --><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"> <script type="text/javascript"> var lazyloadads = false; function loadAds() { if (!lazyloadads) { var script = document.createElement("script"); script.type = "text/javascript"; script.async = true; script.src = "https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7594406644928408"; document.body.appendChild(script); lazyloadads = true; } } window.addEventListener("mousemove", loadAds, { once: true }); window.addEventListener('touchstart', loadAds, { once: true }); </script><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Beautiful Soup을 이용한 네이버 영화 평점 크롤링</h1><div class="post-meta text-muted d-flex flex-column"><div> Posted <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Thu, Oct 22, 2020, 11:10 AM +0900" > Oct 22, 2020 <i class="unloaded">2020-10-22T11:10:00+09:00</i> </span> by <span class="author"> HyunMin Kim </span></div><a href="https://hits.seeyoufarm.com"> <img src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https://datainclude.me/posts/Beautiful_Soup%EC%9D%84_%EC%9D%B4%EC%9A%A9%ED%95%9C_%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8F%89%EC%A0%90_%ED%81%AC%EB%A1%A4%EB%A7%81/%2F&count_bg=%2379C83D&title_bg=%23555555&icon=&icon_color=%23E7E7E7&title=views&edge_flat=false" alt="페이지 조회수 뱃지", width: 100%;, height: 100%;/> </a></div><div class="post-content"><h2 id="1-네이버-영화-평점">1. 네이버 영화 평점</h2><hr /><h3 id="11-네이버-영화-평점">1.1 네이버 영화 평점</h3><ul><li><a href="https://movie.naver.com/movie/sdb/rank/rmovie.nhn?sel=cur&amp;date=20201021" target="_blank">https://movie.naver.com/movie/sdb/rank/rmovie.nhn?sel=cur&amp;date=20201021</a></li><li>네이버 영화에서 영화 평점을 크롤링 해보도록 해보자</li><li>학습용으로 서버에부하되지않을 정도로만 크롤링하자. 너무많이 크롤링하면 네이버측에서 제제가 들어올수 있다.</li><li>항상 크롤링은 robots.txt를 확인하자</li></ul><p><br /></p><h3 id="12-url-보기">1.2 URL 보기</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="s">'https://movie.naver.com/movie/sdb/rank/rmovie.nhn?sel=cur&amp;date=20201021'</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>'https://movie.naver.com/movie/sdb/rank/rmovie.nhn?sel=cur&amp;date=20201021'
</pre></table></code></div></div><ul><li>URL 맨 뒤에 20201021은 date 형식으로 보임, 해당 날짜를 조금씩 바꾸면 다른 페이지에 접속이 가능</li><li>이처럼 웹페이지 URL에는 많은 정보가 담겨있음</li></ul><p><br /></p><h3 id="13-한페이지-보기-with-beautiful-soup">1.3 한페이지 보기 with Beautiful Soup</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">urlopen</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">'https://movie.naver.com/movie/sdb/rank/rmovie.nhn?sel=cur&amp;date=20201021'</span>
<span class="n">page</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">page</span><span class="p">,</span> <span class="s">'html.parser'</span><span class="p">)</span>
<span class="n">soup</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
</pre><td class="rouge-code"><pre>&lt;!DOCTYPE html&gt;

&lt;html lang="ko"&gt;
&lt;head&gt;
&lt;meta content="text/html; charset=utf-8" http-equiv="Content-Type"/&gt;
&lt;meta content="IE=edge" http-equiv="X-UA-Compatible"/&gt;
&lt;meta content="http://imgmovie.naver.com/today/naverme/naverme_profile.jpg" property="me2:image"&gt;
&lt;meta content="네이버영화 " property="me2:post_tag"&gt;
&lt;meta content="네이버영화" property="me2:category1"/&gt;
&lt;meta content="" property="me2:category2"/&gt;
&lt;meta content="랭킹 : 네이버 영화" property="og:title"/&gt;
&lt;meta content="영화, 영화인, 예매, 박스오피스 랭킹 정보 제공" property="og:description"/&gt;
&lt;meta content="article" property="og:type"/&gt;
&lt;meta content="https://movie.naver.com/movie/sdb/rank/rmovie.nhn?sel=cur&amp;amp;date=20201021" property="og:url"/&gt;
&lt;meta content="http://static.naver.net/m/movie/icons/OG_270_270.png" property="og:image"/&gt;&lt;!-- http://static.naver.net/m/movie/im/navermovie.jpg --&gt;
&lt;meta content="http://imgmovie.naver.com/today/naverme/naverme_profile.jpg" property="og:article:thumbnailUrl"/&gt;
&lt;meta content="네이버 영화" property="og:article:author"/&gt;
&lt;meta content="https://movie.naver.com/" property="og:article:author:url"/&gt;
&lt;link href="https://ssl.pstatic.net/static/m/movie/icons/naver_movie_favicon.ico" rel="shortcut icon" type="image/x-icon"/&gt;
&lt;title&gt;랭킹 : 네이버 영화&lt;/title&gt;
&lt;link href="/common/css/movie_tablet.css?20201015140005" rel="stylesheet" type="text/css"/&gt;
...

window.addEventListener('pageshow', function(event) { lcs_do(); });

document.addEventListener('click', function (event) {
	var welSource = event.srcElement;	// jindo.$Element(oEvent.element);
	if (!document.getElementById("gnb").contains(welSource)) {
		gnbAllLayerClose();
	}
});
&lt;/script&gt;
&lt;!-- //Footer --&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt; 
</pre></table></code></div></div><ul><li>html형식을 beautifulsoup을 사용하여 가져옴</li></ul><p><br /></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/60168331/96837405-57203f80-1481-11eb-925f-f340be6dab36.png" /></p><ul><li>위의 내용 중 영화제목과 평점을 가져옴</li></ul><p><br /></p><h3 id="14-영화제목-가져오기">1.4 영화제목 가져오기</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/60168331/96837629-b4b48c00-1481-11eb-9959-eae5d88f4447.png" /></p><ul><li>크롬 개발자 도구로 확인해 본 결과, div 태그 tit5 클래스가 영화 제목</li></ul><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'div'</span><span class="p">,</span> <span class="s">'tit5'</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="n">a</span><span class="p">.</span><span class="n">string</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>'소년시절의 너'
</pre></table></code></div></div><ul><li>BeautifulSoup의 find_all 명령어로 제목을 모두 찾을수 있음.</li><li>그중 첫번째 ([0])인 내용만 가져왔고, string 형식인 제목만 가져옴</li></ul><p><br /></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">movie_name</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">string</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'div'</span><span class="p">,</span> <span class="s">'tit5'</span><span class="p">)]</span>
<span class="n">movie_name</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
</pre><td class="rouge-code"><pre>['소년시절의 너',
 '브레이크 더 사일런스: 더 무비',
 '울지마 톤즈',
 '다시 태어나도 우리',
 '언더독',
 '그대, 고맙소 : 김호중 생애 첫 팬미팅 무비',
 '우리들',
 '스파이더맨: 뉴 유니버스',
 '톰보이',
 '사랑과 영혼',
 '파수꾼',
 '제리 맥과이어',
 '삼진그룹 영어토익반',
 '공범자들',
 '타오르는 여인의 초상',
 '박하사탕',
 '인생 후르츠',
 '남매의 여름밤',
 '윤희에게',
 '비투스',
 '아웃포스트',
 '담보',
 '너의 이름은.',
 '소공녀',
 '벌새',
 '마미',
 '브리짓 존스의 일기',
 '찬실이는 복도 많지',
 '69세',
 '라라랜드',
 '기생충',
 '아무르',
 '로렌스 애니웨이 ',
 '3:10 투 유마',
 '검객',
 '주디',
 '리스본행 야간열차',
 '테넷',
 '경계선',
 '프란시스 하',
 '신문기자',
 '위크엔드 인 파리',
 '블레이드 러너 2049',
 '페이트 스테이 나이트 헤븐즈필 제2장 로스트 버터플라이',
 '환상의 빛',
 '날씨의 아이',
 '라붐',
 '21 브릿지: 테러 셧다운',
 '한여름의 판타지아',
 '다만 악에서 구하소서']
</pre></table></code></div></div><ul><li>리스트 컴프리행션을 사용하여 한 페이지의 영화 제목을 모두 가져옴</li></ul><p><br /></p><h3 id="14-평점-가져오기">1.4 평점 가져오기</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/60168331/96838204-84212200-1482-11eb-95d8-cf40a98d801c.png" /></p><ul><li>td 태그에 point 클래스가 영화 평점</li></ul><p><br /></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'td'</span><span class="p">,</span> <span class="s">'point'</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="n">string</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>'9.39'
</pre></table></code></div></div><ul><li>영화 제목 가져왔을떄랑 똑같이 find_all과 string을 사용하여 가져옴</li></ul><p><br /></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">movie_point</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="p">.</span><span class="n">string</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'td'</span><span class="p">,</span> <span class="s">'point'</span><span class="p">)]</span>
<span class="n">movie_point</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
</pre><td class="rouge-code"><pre>['9.39',
 '9.36',
 '9.35',
 '9.34',
 '9.30',
 '9.29',
 '9.26',
 '9.20',
 '9.20',
 '9.19',
 '9.18',
 '9.16',
 '9.15',
 '9.10',
 '9.06',
 '9.03',
 '9.02',
 '9.02',
 '8.98',
 '8.94',
 '8.93',
 '8.86',
 '8.78',
 '8.77',
 '8.76',
 '8.69',
 '8.68',
 '8.67',
 '8.63',
 '8.61',
 '8.49',
 '8.48',
 '8.44',
 '8.41',
 '8.36',
 '8.35',
 '8.31',
 '8.27',
 '8.17',
 '8.14',
 '8.10',
 '8.06',
 '7.99',
 '7.98',
 '7.98',
 '7.97',
 '7.93',
 '7.91',
 '7.81',
 '7.64']
</pre></table></code></div></div><ul><li>한 페이지의 평점을 가져옴</li></ul><p><br /></p><h3 id="15-날짜-만들기">1.5 날짜 만들기</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="s">'https://movie.naver.com/movie/sdb/rank/rmovie.nhn?sel=cur&amp;date=20201021'</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>'https://movie.naver.com/movie/sdb/rank/rmovie.nhn?sel=cur&amp;date=20201021'
</pre></table></code></div></div><ul><li>한페이지에서 데이터를 얻게됨</li><li>아까전에 이야기한 date를 바꾸면 웹 페이지가 바뀌기떄문에, 날짜를 바꿔가며 url을 변경함</li></ul><p><br /></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">date</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">date_range</span><span class="p">(</span><span class="s">'2020.09.01'</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s">'D'</span><span class="p">)</span>
<span class="n">date</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre>DatetimeIndex(['2020-09-01', '2020-09-02', '2020-09-03', '2020-09-04',
               '2020-09-05', '2020-09-06', '2020-09-07', '2020-09-08',
               '2020-09-09', '2020-09-10', '2020-09-11', '2020-09-12',
               '2020-09-13', '2020-09-14', '2020-09-15', '2020-09-16',
               '2020-09-17', '2020-09-18', '2020-09-19', '2020-09-20',
               '2020-09-21', '2020-09-22', '2020-09-23', '2020-09-24',
               '2020-09-25', '2020-09-26', '2020-09-27', '2020-09-28',
               '2020-09-29', '2020-09-30', '2020-10-01', '2020-10-02',
               '2020-10-03', '2020-10-04', '2020-10-05', '2020-10-06',
               '2020-10-07', '2020-10-08', '2020-10-09', '2020-10-10',
               '2020-10-11', '2020-10-12', '2020-10-13', '2020-10-14',
               '2020-10-15', '2020-10-16', '2020-10-17', '2020-10-18',
               '2020-10-19', '2020-10-20', '2020-10-21', '2020-10-22',
               '2020-10-23', '2020-10-24', '2020-10-25', '2020-10-26',
               '2020-10-27', '2020-10-28', '2020-10-29', '2020-10-30'],
              dtype='datetime64[ns]', freq='D')
</pre></table></code></div></div><ul><li>Pandas의 date_range를 사용하여 날짜를 생성</li><li>시작날짜를 적어주고, 만들고 싶은 날짜 갯수와 날짜 형태를 적으면 됨</li></ul><p><br /></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">print</span><span class="p">(</span><span class="n">date</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">strftime</span><span class="p">(</span><span class="s">'%y-%m-%d'</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">date</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">strftime</span><span class="p">(</span><span class="s">'%y.%m.%d'</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">date</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">strftime</span><span class="p">(</span><span class="s">'%y%m%d'</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">date</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">strftime</span><span class="p">(</span><span class="s">'%Y%m%d'</span><span class="p">))</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>20-09-01
20.09.01
200901
20200901
</pre></table></code></div></div><ul><li>날짜형 데이터는 strftime 명령으로 원하는 형태의 문자열로 만들수 있음</li><li>URL에서 필요한 형식은 맨 아래 20200901 형식임</li></ul><p><br /></p><h3 id="16-여러날짜에서-영화제목과-평점가져오기">1.6 여러날짜에서 영화제목과 평점가져오기</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">time</span>

<span class="n">movie_date</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">movie_name</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">movie_point</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">date</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">date_range</span><span class="p">(</span><span class="s">'2020.09.01'</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s">'D'</span><span class="p">)</span>

<span class="k">for</span> <span class="n">today</span> <span class="ow">in</span> <span class="n">date</span><span class="p">:</span>
    <span class="n">html</span> <span class="o">=</span> <span class="s">'https://movie.naver.com/movie/sdb/rank/rmovie.nhn?sel=cur&amp;date={date}'</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">html</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">date</span> <span class="o">=</span> <span class="n">today</span><span class="p">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">'%Y%m%d'</span><span class="p">)))</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="s">'html.parser'</span><span class="p">)</span>
    
    <span class="n">movie_date</span><span class="p">.</span><span class="n">extend</span><span class="p">([</span><span class="n">today</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'td'</span><span class="p">,</span> <span class="s">'point'</span><span class="p">)))</span>
    <span class="n">movie_name</span><span class="p">.</span><span class="n">extend</span><span class="p">([</span><span class="n">i</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">string</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'div'</span><span class="p">,</span> <span class="s">'tit5'</span><span class="p">)])</span>
    <span class="n">movie_point</span><span class="p">.</span><span class="n">extend</span><span class="p">([</span><span class="n">i</span><span class="p">.</span><span class="n">string</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'td'</span><span class="p">,</span> <span class="s">'point'</span><span class="p">)])</span>
    
    <span class="k">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">today</span><span class="p">))</span>
    <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
</pre><td class="rouge-code"><pre>2020-09-01 00:00:00
2020-09-02 00:00:00
2020-09-03 00:00:00
2020-09-04 00:00:00
2020-09-05 00:00:00
2020-09-06 00:00:00
2020-09-07 00:00:00
2020-09-08 00:00:00
2020-09-09 00:00:00
2020-09-10 00:00:00
2020-09-11 00:00:00
2020-09-12 00:00:00
2020-09-13 00:00:00
2020-09-14 00:00:00
2020-09-15 00:00:00
2020-09-16 00:00:00
2020-09-17 00:00:00
2020-09-18 00:00:00
2020-09-19 00:00:00
2020-09-20 00:00:00
2020-09-21 00:00:00
2020-09-22 00:00:00
2020-09-23 00:00:00
2020-09-24 00:00:00
2020-09-25 00:00:00
2020-09-26 00:00:00
2020-09-27 00:00:00
2020-09-28 00:00:00
2020-09-29 00:00:00
2020-09-30 00:00:00
2020-10-01 00:00:00
2020-10-02 00:00:00
2020-10-03 00:00:00
2020-10-04 00:00:00
2020-10-05 00:00:00
2020-10-06 00:00:00
2020-10-07 00:00:00
2020-10-08 00:00:00
2020-10-09 00:00:00
2020-10-10 00:00:00
2020-10-11 00:00:00
2020-10-12 00:00:00
2020-10-13 00:00:00
2020-10-14 00:00:00
2020-10-15 00:00:00
</pre></table></code></div></div><ul><li>일단 20년 9월 1일 ~ 10월 15일까지의 영화 평점을 가져옴</li><li>한페이지를 크롤링하고 또 바로 크롤링하면 과부화 및 접속 차단등이 걸릴수 있으니 time.sleep을 걸어주지</li></ul><p><br /></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">len</span><span class="p">(</span><span class="n">movie_date</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">movie_name</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">movie_point</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>(2158, 2158, 2158)
</pre></table></code></div></div><ul><li>총 2158개의 영화 평점을 가져옴</li></ul><p><br /></p><h3 id="17-데이터-프레임-생성">1.7 데이터 프레임 생성</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">movie</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s">'date'</span> <span class="p">:</span> <span class="n">movie_date</span><span class="p">,</span> <span class="s">'name'</span><span class="p">:</span> <span class="n">movie_name</span><span class="p">,</span> <span class="s">'point'</span> <span class="p">:</span> <span class="n">movie_point</span><span class="p">})</span>
<span class="n">movie</span><span class="p">.</span><span class="n">tail</span><span class="p">()</span>
</pre></table></code></div></div><div><style scoped=""> .dataframe tbody tr th:only-of-type { vertical-align: middle; } .dataframe tbody tr th { vertical-align: top; } .dataframe thead th { text-align: right; }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th><th>date<th>name<th>point<tbody><tr><th>2153<td>2020-10-15<td>언힌지드<td>6.69<tr><th>2154<td>2020-10-15<td>죽지않는 인간들의 밤<td>6.62<tr><th>2155<td>2020-10-15<td>강철비2: 정상회담<td>5.01<tr><th>2156<td>2020-10-15<td>국제수사<td>4.87<tr><th>2157<td>2020-10-15<td>뮬란<td>4.20</table></div><p><br /></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">movie</span><span class="p">.</span><span class="n">info</span><span class="p">()</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 2158 entries, 0 to 2157
Data columns (total 3 columns):
 #   Column  Non-Null Count  Dtype         
---  ------  --------------  -----         
 0   date    2158 non-null   datetime64[ns]
 1   name    2158 non-null   object        
 2   point   2158 non-null   object        
dtypes: datetime64[ns](1), object(2)
memory usage: 50.7+ KB
</pre></table></code></div></div><ul><li>평점은 float으로 변경</li></ul><p><br /></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">movie</span><span class="p">[</span><span class="s">'point'</span><span class="p">]</span> <span class="o">=</span> <span class="n">movie</span><span class="p">[</span><span class="s">'point'</span><span class="p">].</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<span class="n">movie</span><span class="p">.</span><span class="n">info</span><span class="p">()</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 2158 entries, 0 to 2157
Data columns (total 3 columns):
 #   Column  Non-Null Count  Dtype         
---  ------  --------------  -----         
 0   date    2158 non-null   datetime64[ns]
 1   name    2158 non-null   object        
 2   point   2158 non-null   float64       
dtypes: datetime64[ns](1), float64(1), object(1)
memory usage: 50.7+ KB
</pre></table></code></div></div><ul><li>평점타입 변경 완료</li></ul><p><br /></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">movie</span><span class="p">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s">'./data/naver_movie_points_20201022.csv'</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s">','</span><span class="p">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s">'utf-8'</span><span class="p">)</span>
</pre></table></code></div></div><ul><li>크롤링된 데이터는 csv파일로 저장함</li><li>만일 커널이 재시작되면 크롤링한 데이터는 날라감</li><li>해당 파일은 github에 올려둠 <a href="https://raw.githubusercontent.com/hmkim312/datas/main/navermoviepoints/naver_movie_points_20201022.csv">https://raw.githubusercontent.com/hmkim312/datas/main/navermoviepoints/naver_movie_points_20201022.csv</a>{target:’_blank’}</li></ul><p><br /></p><h2 id="2-데이터-preprocessing">2. 데이터 Preprocessing</h2><hr /><h3 id="21-data-load">2.1 Data Load</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>

<span class="n">movie</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">'https://raw.githubusercontent.com/hmkim312/datas/main/navermoviepoints/naver_movie_points_20201022.csv'</span><span class="p">,</span> <span class="n">index_col</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">movie</span><span class="p">.</span><span class="n">tail</span><span class="p">()</span>
</pre></table></code></div></div><div><style scoped=""> .dataframe tbody tr th:only-of-type { vertical-align: middle; } .dataframe tbody tr th { vertical-align: top; } .dataframe thead th { text-align: right; }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th><th>date<th>name<th>point<tbody><tr><th>2153<td>2020-10-15<td>언힌지드<td>6.69<tr><th>2154<td>2020-10-15<td>죽지않는 인간들의 밤<td>6.62<tr><th>2155<td>2020-10-15<td>강철비2: 정상회담<td>5.01<tr><th>2156<td>2020-10-15<td>국제수사<td>4.87<tr><th>2157<td>2020-10-15<td>뮬란<td>4.20</table></div><ul><li>index_col = 0 옵션을 넣어서 인덱스를 불러오지 않도록 함</li></ul><p><br /></p><h3 id="22-평점-합산">2.2 평점 합산</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">movie_unique</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">movie</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s">'name'</span><span class="p">],</span> <span class="n">aggfunc</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nb">sum</span><span class="p">)</span>
<span class="n">movie_unique</span><span class="p">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s">'point'</span><span class="p">,</span> <span class="n">ascending</span> <span class="o">=</span> <span class="bp">False</span><span class="p">).</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></table></code></div></div><div><style scoped=""> .dataframe tbody tr th:only-of-type { vertical-align: middle; } .dataframe tbody tr th { vertical-align: top; } .dataframe thead th { text-align: right; }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th><th>point<tr><th>name<th><tbody><tr><th>소년시절의 너<td>422.21<tr><th>사랑과 영혼<td>413.48<tr><th>제리 맥과이어<td>412.20<tr><th>극장판 짱구는 못말려: 신혼여행 허리케인~ 사라진 아빠!<td>393.58<tr><th>브리짓 존스의 일기<td>390.57<tr><th>69세<td>388.31<tr><th>500일의 썸머<td>378.90<tr><th>라라랜드<td>378.84<tr><th>테넷<td>372.53<tr><th>타오르는 여인의 초상<td>371.08</table></div><ul><li>영화 이름으로 인덱스를 잡고, 점수를 합산 후 내림차순 10개를 출력함, best 10</li></ul><p><br /></p><h3 id="23-dataframe-query">2.3 DataFrame Query</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">movie</span><span class="p">.</span><span class="n">query</span><span class="p">(</span><span class="s">'name == ["테넷"]'</span><span class="p">)</span>
</pre></table></code></div></div><div><style scoped=""> .dataframe tbody tr th:only-of-type { vertical-align: middle; } .dataframe tbody tr th { vertical-align: top; } .dataframe thead th { text-align: right; }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th><th>date<th>name<th>point<tbody><tr><th>32<td>2020-09-01<td>테넷<td>8.37<tr><th>78<td>2020-09-02<td>테넷<td>8.36<tr><th>129<td>2020-09-03<td>테넷<td>8.34<tr><th>179<td>2020-09-04<td>테넷<td>8.33<tr><th>225<td>2020-09-05<td>테넷<td>8.34<tr><th>277<td>2020-09-06<td>테넷<td>8.31<tr><th>326<td>2020-09-07<td>테넷<td>8.29<tr><th>373<td>2020-09-08<td>테넷<td>8.28<tr><th>418<td>2020-09-09<td>테넷<td>8.28<tr><th>463<td>2020-09-10<td>테넷<td>8.28<tr><th>509<td>2020-09-11<td>테넷<td>8.27<tr><th>560<td>2020-09-12<td>테넷<td>8.27<tr><th>610<td>2020-09-13<td>테넷<td>8.27<tr><th>656<td>2020-09-14<td>테넷<td>8.27<tr><th>706<td>2020-09-15<td>테넷<td>8.27<tr><th>750<td>2020-09-16<td>테넷<td>8.27<tr><th>794<td>2020-09-17<td>테넷<td>8.27<tr><th>841<td>2020-09-18<td>테넷<td>8.28<tr><th>887<td>2020-09-19<td>테넷<td>8.27<tr><th>932<td>2020-09-20<td>테넷<td>8.27<tr><th>975<td>2020-09-21<td>테넷<td>8.27<tr><th>1018<td>2020-09-22<td>테넷<td>8.26<tr><th>1055<td>2020-09-23<td>테넷<td>8.26<tr><th>1096<td>2020-09-24<td>테넷<td>8.27<tr><th>1146<td>2020-09-25<td>테넷<td>8.27<tr><th>1196<td>2020-09-26<td>테넷<td>8.26<tr><th>1247<td>2020-09-27<td>테넷<td>8.26<tr><th>1293<td>2020-09-28<td>테넷<td>8.26<tr><th>1340<td>2020-09-29<td>테넷<td>8.26<tr><th>1392<td>2020-09-30<td>테넷<td>8.26<tr><th>1442<td>2020-10-01<td>테넷<td>8.26<tr><th>1492<td>2020-10-02<td>테넷<td>8.26<tr><th>1542<td>2020-10-03<td>테넷<td>8.27<tr><th>1589<td>2020-10-04<td>테넷<td>8.26<tr><th>1643<td>2020-10-05<td>테넷<td>8.26<tr><th>1698<td>2020-10-06<td>테넷<td>8.27<tr><th>1747<td>2020-10-07<td>테넷<td>8.27<tr><th>1800<td>2020-10-08<td>테넷<td>8.27<tr><th>1849<td>2020-10-09<td>테넷<td>8.27<tr><th>1899<td>2020-10-10<td>테넷<td>8.27<tr><th>1945<td>2020-10-11<td>테넷<td>8.27<tr><th>1990<td>2020-10-12<td>테넷<td>8.27<tr><th>2038<td>2020-10-13<td>테넷<td>8.27<tr><th>2088<td>2020-10-14<td>테넷<td>8.27<tr><th>2138<td>2020-10-15<td>테넷<td>8.27</table></div><ul><li>DataFrame Query로 검색을 해볼수 있음</li></ul><p><br /></p><h3 id="24-날짜별-영화-평점-변화-그리기">2.4 날짜별 영화 평점 변화 그리기</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">movie</span><span class="p">.</span><span class="n">query</span><span class="p">(</span><span class="s">'name == ["테넷"]'</span><span class="p">)[</span><span class="s">'date'</span><span class="p">],</span>
         <span class="n">movie</span><span class="p">.</span><span class="n">query</span><span class="p">(</span><span class="s">'name == ["테넷"]'</span><span class="p">)[</span><span class="s">'point'</span><span class="p">])</span>
<span class="n">plt</span><span class="p">.</span><span class="n">legend</span><span class="p">(</span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="s">'point'</span><span class="p">])</span>
<span class="n">plt</span><span class="p">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/60168331/96848498-7920be80-148f-11eb-8655-c62fb95e02d4.png" /></p><ul><li>영화 테넷의 평점 변화를 봄</li><li>x 축의 길이가 너무 길어서 rotation을 45로 해줌</li><li>그래프의 곡선이 많이 움직이는것 같지만, 사실 y축을 보면 그렇게 크지 않음 최고점과 최저점이 0.1점 차이</li></ul><p><br /></p><h3 id="25-영화-정리">2.5 영화 정리</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="n">movie_pivot</span> <span class="o">=</span> <span class="n">movie</span><span class="p">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">movie</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="s">'date'</span><span class="p">],</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s">'name'</span><span class="p">])</span>
<span class="n">movie_pivot</span><span class="p">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">movie_pivot</span><span class="p">.</span><span class="n">columns</span><span class="p">.</span><span class="n">droplevel</span><span class="p">([</span><span class="mi">0</span><span class="p">])</span>
<span class="n">movie_pivot</span><span class="p">.</span><span class="n">tail</span><span class="p">()</span>
</pre></table></code></div></div><div><style scoped=""> .dataframe tbody tr th:only-of-type { vertical-align: middle; } .dataframe tbody tr th { vertical-align: top; } .dataframe thead th { text-align: right; }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th>name<th>500일의 썸머<th>69세<th>가버나움<th>감쪽같은 그녀<th>강철비2: 정상회담<th>검객<th>경계선<th>국제수사<th>그대, 고맙소 : 김호중 생애 첫 팬미팅 무비<th>그래비티<th>...<th>포드 V 페라리<th>폭스캐처<th>프란시스 하<th>피아노<th>피아니스트<th>피아니스트의 전설<th>피터와 드래곤<th>하녀<th>항거:유관순 이야기<th>홀리 모터스<tr><th>date<th><th><th><th><th><th><th><th><th><th><th><th><th><th><th><th><th><th><th><th><th><tbody><tr><th>2020-10-11<td>8.42<td>8.63<td>NaN<td>NaN<td>NaN<td>8.36<td>8.17<td>NaN<td>9.47<td>8.29<td>...<td>9.49<td>NaN<td>8.14<td>NaN<td>9.32<td>NaN<td>8.25<td>NaN<td>NaN<td>NaN<tr><th>2020-10-12<td>8.42<td>8.63<td>NaN<td>NaN<td>NaN<td>8.36<td>8.17<td>NaN<td>9.45<td>NaN<td>...<td>9.49<td>NaN<td>8.14<td>NaN<td>9.32<td>NaN<td>NaN<td>NaN<td>NaN<td>7.52<tr><th>2020-10-13<td>8.42<td>8.63<td>NaN<td>NaN<td>5.01<td>8.35<td>8.17<td>4.89<td>9.46<td>NaN<td>...<td>NaN<td>NaN<td>8.14<td>NaN<td>9.32<td>NaN<td>NaN<td>NaN<td>NaN<td>7.52<tr><th>2020-10-14<td>8.42<td>8.63<td>NaN<td>NaN<td>5.01<td>8.36<td>8.17<td>4.88<td>9.44<td>NaN<td>...<td>NaN<td>NaN<td>8.14<td>NaN<td>9.32<td>NaN<td>NaN<td>NaN<td>NaN<td>7.52<tr><th>2020-10-15<td>8.42<td>8.63<td>NaN<td>NaN<td>5.01<td>8.36<td>8.17<td>4.87<td>9.43<td>NaN<td>...<td>9.49<td>NaN<td>8.14<td>NaN<td>9.32<td>NaN<td>NaN<td>NaN<td>NaN<td>7.52</table><p>5 rows × 132 columns</p></div><ul><li>크롤링한 영화를 컬럼으로 하게 pivot함</li></ul><p><br /></p><h3 id="26-보고싶은-영화들의-평점들-시각화">2.6 보고싶은 영화들의 평점들 시각화</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">movie_pivot</span><span class="p">.</span><span class="n">columns</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>Index(['500일의 썸머', '69세', '가버나움', '감쪽같은 그녀', '강철비2: 정상회담', '검객', '경계선', '국제수사',
       '그대, 고맙소 : 김호중 생애 첫 팬미팅 무비', '그래비티',
       ...
       '포드 V 페라리', '폭스캐처', '프란시스 하', '피아노', '피아니스트', '피아니스트의 전설', '피터와 드래곤',
       '하녀', '항거:유관순 이야기', '홀리 모터스'],
      dtype='object', name='name', length=132)
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="n">targer_col</span> <span class="o">=</span> <span class="p">[</span><span class="s">'극장판 짱구는 못말려: 신혼여행 허리케인~ 사라진 아빠!'</span><span class="p">,</span> <span class="s">'테넷'</span><span class="p">,</span> <span class="s">'라라랜드'</span><span class="p">,</span> <span class="s">'동주'</span><span class="p">]</span>

<span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">movie_pivot</span><span class="p">[</span><span class="n">targer_col</span><span class="p">])</span>
<span class="n">plt</span><span class="p">.</span><span class="n">legend</span><span class="p">(</span><span class="n">targer_col</span><span class="p">,</span> <span class="n">loc</span> <span class="o">=</span> <span class="s">'best'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">bottom</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> <span class="n">labelbottom</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/60168331/96848695-b2f1c500-148f-11eb-8621-94367b889eae.png" /></p><ul><li>보고싶은 영화의 평점만 골라서 비교해볼수 있음</li><li>중간에 선이 끊긴것은 평점 데이터가 없는것</li></ul><p><br /></p><h3 id="27-엑셀로-저장">2.7 엑셀로 저장</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">movie_pivot</span><span class="p">.</span><span class="n">to_excel</span><span class="p">(</span><span class="s">'./data/naver_movie_points_pivot_20201022.xlsx'</span><span class="p">)</span>
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/60168331/96846739-41b11280-148d-11eb-9e9e-3a0768547792.png" /></p><ul><li>to_excel을 사용하여 저장</li><li>이런식으로 저장됨</li></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/python/'>Python</a>, <a href='/categories/crawling/'>Crawling</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/tag/" class="post-tag no-text-decoration" >Tag</a> <a href="/tags/beautifulsoup/" class="post-tag no-text-decoration" >Beautifulsoup</a> <a href="/tags/naver-movie/" class="post-tag no-text-decoration" >Naver Movie</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><!-- Post sharing snippet v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Beautiful Soup을 이용한 네이버 영화 평점 크롤링 - Data Include Me&url=https://datainclude.me/posts/Beautiful_Soup%EC%9D%84_%EC%9D%B4%EC%9A%A9%ED%95%9C_%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8F%89%EC%A0%90_%ED%81%AC%EB%A1%A4%EB%A7%81/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Beautiful Soup을 이용한 네이버 영화 평점 크롤링 - Data Include Me&u=https://datainclude.me/posts/Beautiful_Soup%EC%9D%84_%EC%9D%B4%EC%9A%A9%ED%95%9C_%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8F%89%EC%A0%90_%ED%81%AC%EB%A1%A4%EB%A7%81/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Beautiful Soup을 이용한 네이버 영화 평점 크롤링 - Data Include Me&url=https://datainclude.me/posts/Beautiful_Soup%EC%9D%84_%EC%9D%B4%EC%9A%A9%ED%95%9C_%EB%84%A4%EC%9D%B4%EB%B2%84_%EC%98%81%ED%99%94_%ED%8F%89%EC%A0%90_%ED%81%AC%EB%A1%A4%EB%A7%81/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><!-- The Panel on right side (Desktop views) v2.3 © 2024 Your Name MIT License --><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"><h3 data-toc-skip>Recent Update</h3><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li class="recent-item"> <a href="/posts/%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%BB%B4%ED%93%A8%ED%8C%85_%EA%B0%80%EC%83%81%ED%99%94/">클라우드 컴퓨팅 - 가상화</a> <span class="text-muted small">2024-10-28</span></li><li class="recent-item"> <a href="/posts/gemini_api_%EC%82%AC%EC%9A%A9%ED%95%B4%EB%B3%B4%EA%B8%B0/">Gemini API 사용해보기</a> <span class="text-muted small">2024-03-12</span></li><li class="recent-item"> <a href="/posts/Ollama%EC%99%80_Python_%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC%EB%A5%BC_%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC_LLaMa2%EB%A5%BC_%EB%A1%9C%EC%BB%AC%EC%97%90%EC%84%9C_%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/">Ollama와 Python 라이브러리를 이용하여 LLaMa2를 로컬에서 사용하기</a> <span class="text-muted small">2024-02-13</span></li><li class="recent-item"> <a href="/posts/Mistral_7B_Fine_Tuning/">Mistral 7B 파인튜닝(Fine Tuning)하기</a> <span class="text-muted small">2023-10-25</span></li><li class="recent-item"> <a href="/posts/Penn_Fudan%EC%9C%BC%EB%A1%9C_%EC%95%8C%EC%95%84%EB%B3%B4%EB%8A%94_%EA%B0%9D%EC%B2%B4_%ED%83%90%EC%A7%80_%EB%B6%84%ED%95%A0/">Penn-Fudan으로 알아보는 객체 탐지(Object Detection), 분할(Segmentation) with FasterRCNN</a> <span class="text-muted small">2023-10-23</span></li></ul></div><div id="access-tags"><h3 data-toc-skip>Trending Tags</h3><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/tensorflow/">Tensorflow</a> <a class="post-tag" href="/tags/sklearn/">Sklearn</a> <a class="post-tag" href="/tags/round/">Round</a> <a class="post-tag" href="/tags/python-lv0/">Python Lv0</a> <a class="post-tag" href="/tags/pca/">PCA</a> <a class="post-tag" href="/tags/eda/">EDA</a> <a class="post-tag" href="/tags/distinct/">Distinct</a> <a class="post-tag" href="/tags/random-forest/">Random Forest</a> <a class="post-tag" href="/tags/beautifulsoup/">Beautifulsoup</a> <a class="post-tag" href="/tags/baekjoon/">Baekjoon</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><h3 data-toc-skip class="pl-3 pt-2 mb-2">Contents</h3><nav id="toc" data-toggle="toc"></nav></div></div><style> .recent-item { margin-bottom: 0.5rem; } .recent-item a { color: var(--link-color); } .recent-item .small { font-size: 0.75rem; margin-left: 0.5rem; }</style></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"> <!-- Recommend the other 3 posts according to the tags and categories of the current post, if the number is not enough, use the other latest posts to supplement. v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/%ED%81%AC%EB%A1%A4%EB%A7%81(Crawling)_%EA%B8%B0%EC%B4%88(1)/"><div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > Oct 14, 2020 <i class="unloaded">2020-10-14T08:10:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>크롤링(Crawling) 기초(1)</h3><div class="text-muted small"><p> 1. 크롤링(Crawling) 1.1 크롤링이란? 웹 페이지를 가져와서 데이터를 추출하는것 크롤링하는 소프트웨어를 크롤러(crawler)라고 함 1.2 크롤링 소프트웨어 Beautifulsoup 2. 실습 2.1 간단한 사이트 크롤링하기 https://beans.itcarlow.ie/prices.html ...</p></div></div></a></div><div class="card"> <a href="/posts/%ED%81%AC%EB%A1%A4%EB%A7%81(Crawling)_%EA%B8%B0%EC%B4%88(2)/"><div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > Oct 14, 2020 <i class="unloaded">2020-10-14T09:10:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>크롤링(Crawling) 기초(2)</h3><div class="text-muted small"><p> 1. 네이버 금융 1.1 네이버 금융의 환율 Crawling 네이버 금융의 시장지표 https://finance.naver.com/marketindex/ 미국 환율은 span 태그의 value 클래스 1.2 파싱(parsing) from bs4 import BeautifulSoup from urllib.request impo...</p></div></div></a></div><div class="card"> <a href="/posts/Beautiful_Soup%EC%9D%84_%EC%9D%B4%EC%9A%A9%ED%95%9C_%EC%8B%9C%EC%B9%B4%EA%B3%A0_%EC%83%8C%EB%93%9C%EC%9C%84%EC%B9%98_%EB%A7%9B%EC%A7%91_%EC%A0%95%EB%B3%B4_%EC%B6%94%EC%B6%9C/"><div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > Oct 22, 2020 <i class="unloaded">2020-10-22T11:10:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Beautiful Soup을 이용한 시카고 샌드위치 맛집 정보 추출</h3><div class="text-muted small"><p> 1. 시카고 매거진 1.1 시카고 매거진 https://www.chicagomag.com/Chicago-Magazine/November-2012/Best-Sandwiches-Chicago/ 미국 시카고 매거진의 베스트 50개의 샌드위치 맛집 리스트 메뉴와 가게 이름이 정리 1.2 가게 상세 페이지 각각소개한 50개의 ...</p></div></div></a></div></div></div><!-- Navigation buttons at the bottom of the post. v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Mall_Customer_Segmentation_Data%EB%A1%9C_%ED%95%B4%EB%B3%B4%EB%8A%94_%EA%B5%B0%EC%A7%91%ED%99%94/" class="btn btn-outline-primary"><p>Mall Customer Segmentation Data로 해보는 군집화</p></a> <a href="/posts/Beautiful_Soup%EC%9D%84_%EC%9D%B4%EC%9A%A9%ED%95%9C_%EC%8B%9C%EC%B9%B4%EA%B3%A0_%EC%83%8C%EB%93%9C%EC%9C%84%EC%B9%98_%EB%A7%9B%EC%A7%91_%EC%A0%95%EB%B3%B4_%EC%B6%94%EC%B6%9C/" class="btn btn-outline-primary"><p>Beautiful Soup을 이용한 시카고 샌드위치 맛집 정보 추출</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script></div><!-- The Search results v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/tensorflow/">Tensorflow</a> <a class="post-tag" href="/tags/sklearn/">Sklearn</a> <a class="post-tag" href="/tags/round/">Round</a> <a class="post-tag" href="/tags/python-lv0/">Python Lv0</a> <a class="post-tag" href="/tags/pca/">PCA</a> <a class="post-tag" href="/tags/eda/">EDA</a> <a class="post-tag" href="/tags/distinct/">Distinct</a> <a class="post-tag" href="/tags/random-forest/">Random Forest</a> <a class="post-tag" href="/tags/beautifulsoup/">Beautifulsoup</a> <a class="post-tag" href="/tags/baekjoon/">Baekjoon</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <!-- The GA snippet v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <!-- Jekyll Simple Search loader v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://datainclude.me{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
