<!DOCTYPE html><html lang="ko" mode="light" > <!-- The Head v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>뽐뿌 특가 데이터 전처리 하기 | Data Include Me</title><meta name="generator" content="Jekyll v3.9.3" /><meta property="og:title" content="뽐뿌 특가 데이터 전처리 하기" /><meta name="author" content="HyunMin Kim" /><meta property="og:locale" content="ko" /><meta name="description" content="특가 정보에 관심이 많은 사람으로써 특가 데이터 분석을 위해 뽐뿌의 특가 게시판을 크롤링 하여 특가 데이터를 확보하였고, 그 데이터를 전처리하였다. 특가 데이터 분석은 1)데이터 확보(크롤링) 2)데이터 전처리 3)특가 데이터 분석 4)카테고리 예측 모델링순으로 진행된다." /><meta property="og:description" content="특가 정보에 관심이 많은 사람으로써 특가 데이터 분석을 위해 뽐뿌의 특가 게시판을 크롤링 하여 특가 데이터를 확보하였고, 그 데이터를 전처리하였다. 특가 데이터 분석은 1)데이터 확보(크롤링) 2)데이터 전처리 3)특가 데이터 분석 4)카테고리 예측 모델링순으로 진행된다." /><link rel="canonical" href="https://datainclude.me/posts/%EB%BD%90%EB%BF%8C_%ED%8A%B9%EA%B0%80_%EB%8D%B0%EC%9D%B4%ED%84%B0_%EC%A0%84%EC%B2%98%EB%A6%AC_%ED%95%98%EA%B8%B0/" /><meta property="og:url" content="https://datainclude.me/posts/%EB%BD%90%EB%BF%8C_%ED%8A%B9%EA%B0%80_%EB%8D%B0%EC%9D%B4%ED%84%B0_%EC%A0%84%EC%B2%98%EB%A6%AC_%ED%95%98%EA%B8%B0/" /><meta property="og:site_name" content="Data Include Me" /><meta property="og:image" content="https://user-images.githubusercontent.com/60168331/260284949-6213100f-bac7-462b-aac3-38323f88ffaf.jpg" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-08-14T00:00:00+09:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://user-images.githubusercontent.com/60168331/260284949-6213100f-bac7-462b-aac3-38323f88ffaf.jpg" /><meta property="twitter:title" content="뽐뿌 특가 데이터 전처리 하기" /><meta name="twitter:site" content="@" /><meta name="twitter:creator" content="@HyunMin Kim" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"HyunMin Kim"},"dateModified":"2023-08-14T00:00:00+09:00","datePublished":"2023-08-14T00:00:00+09:00","description":"특가 정보에 관심이 많은 사람으로써 특가 데이터 분석을 위해 뽐뿌의 특가 게시판을 크롤링 하여 특가 데이터를 확보하였고, 그 데이터를 전처리하였다. 특가 데이터 분석은 1)데이터 확보(크롤링) 2)데이터 전처리 3)특가 데이터 분석 4)카테고리 예측 모델링순으로 진행된다.","headline":"뽐뿌 특가 데이터 전처리 하기","image":"https://user-images.githubusercontent.com/60168331/260284949-6213100f-bac7-462b-aac3-38323f88ffaf.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"https://datainclude.me/posts/%EB%BD%90%EB%BF%8C_%ED%8A%B9%EA%B0%80_%EB%8D%B0%EC%9D%B4%ED%84%B0_%EC%A0%84%EC%B2%98%EB%A6%AC_%ED%95%98%EA%B8%B0/"},"url":"https://datainclude.me/posts/%EB%BD%90%EB%BF%8C_%ED%8A%B9%EA%B0%80_%EB%8D%B0%EC%9D%B4%ED%84%B0_%EC%A0%84%EC%B2%98%EB%A6%AC_%ED%95%98%EA%B8%B0/"}</script> <!-- The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps Generated by: https://www.favicon-generator.org/ v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT license --><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="36x36" href="/assets/img/favicons/android-icon-36x36.png"><link rel="icon" type="image/png" sizes="48x48" href="/assets/img/favicons/android-icon-48x48.png"><link rel="icon" type="image/png" sizes="72x72" href="/assets/img/favicons/android-icon-72x72.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/android-icon-96x96.png"><link rel="icon" type="image/png" sizes="144x144" href="/assets/img/favicons/android-icon-144x144.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="70x70" href="/assets/img/favicons/ms-icon-70x70.png"><link rel="icon" type="image/png" sizes="144x144" href="/assets/img/favicons/ms-icon-144x144.png"><link rel="icon" type="image/png" sizes="150x150" href="/assets/img/favicons/ms-icon-150x150.png"><link rel="icon" type="image/png" sizes="310x310" href="/assets/img/favicons/ms-icon-310x310.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preload" href="https://www.googletagmanager.com/gtm.js?id=GTM-MW9VRMW9" as="script"> <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= 'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-MW9VRMW9');</script><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="preload" as="style" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous" media="print" onload="this.media='all'"> <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"> </noscript> <!-- CSS selector for site. Chirpy v2.3 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT Licensed --><link rel="preload" as="style" href="/assets/css/post.css"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /><link rel="preload" as="script" href="https://cdn.jsdelivr.net/npm/jquery@3.4.1" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"> <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" async></script> <!-- JS selector for site. Chirpy v2.3 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT Licensed --> <script src="/assets/js/post.min.js" async></script> <script src="/app.js" defer></script><body data-spy="scroll" data-target="#toc"> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MW9VRMW9" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="sidebar" class="d-flex flex-column"> <!-- The Side Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="nav-wrapper"><div id="profile-wrapper" class="d-flex flex-column"><div id="avatar" class="d-flex justify-content-center"> <a href="/" alt="avatar"> <img src="/assets/img/sample/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="profile-text mt-3"><div class="site-title"> <a href="/">Data Include Me</a></div><div class="site-subtitle font-italic">Data Science Blog</div></div></div><ul class="nav flex-column"><li class="nav-item d-flex justify-content-center "> <a href="/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/archives/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/about/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></li></ul></div><div class="sidebar-bottom d-flex flex-wrap justify-content-around mt-4"> <a href="https://github.com/hmkim312" target="_blank"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/" target="_blank"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:window.open('mailto:' + ['sanarial312','gmail.com'].join('@'))" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" > <i class="fas fa-rss"></i> </a></div></div><!-- The Top Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>뽐뿌 특가 데이터 전처리 하기</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"> <!-- Refactor the HTML structure. --> <!-- Suroundding the markdown table with '<div class="table-wrapper">. and '</div>' --> <!-- Fixed kramdown code highlight rendering: https://github.com/penibelst/jekyll-compress-html/issues/101 https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901 --><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"> <script type="text/javascript"> var lazyloadads = false; function loadAds() { if (!lazyloadads) { var script = document.createElement("script"); script.type = "text/javascript"; script.async = true; script.src = "https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7594406644928408"; document.body.appendChild(script); lazyloadads = true; } } window.addEventListener("mousemove", loadAds, { once: true }); window.addEventListener('touchstart', loadAds, { once: true }); </script><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>뽐뿌 특가 데이터 전처리 하기</h1><div class="post-meta text-muted d-flex flex-column"><div> Posted <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Mon, Aug 14, 2023, 12:00 AM +0900" > Aug 14, 2023 <i class="unloaded">2023-08-14T00:00:00+09:00</i> </span> by <span class="author"> HyunMin Kim </span></div><a href="https://hits.seeyoufarm.com"> <img src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https://datainclude.me/posts/%EB%BD%90%EB%BF%8C_%ED%8A%B9%EA%B0%80_%EB%8D%B0%EC%9D%B4%ED%84%B0_%EC%A0%84%EC%B2%98%EB%A6%AC_%ED%95%98%EA%B8%B0/%2F&count_bg=%2379C83D&title_bg=%23555555&icon=&icon_color=%23E7E7E7&title=views&edge_flat=false" alt="페이지 조회수 뱃지", width: 100%;, height: 100%;/> </a></div><div class="post-content"><p>특가 정보에 관심이 많은 사람으로써 <strong>특가 데이터 분석</strong>을 위해 뽐뿌의 특가 게시판을 크롤링 하여 특가 데이터를 확보하였고, 그 데이터를 전처리하였다. <strong>특가 데이터 분석</strong>은 <code class="language-plaintext highlighter-rouge">1)데이터 확보(크롤링)</code> <code class="language-plaintext highlighter-rouge">2)데이터 전처리</code> <code class="language-plaintext highlighter-rouge">3)특가 데이터 분석</code> <code class="language-plaintext highlighter-rouge">4)카테고리 예측 모델링</code>순으로 진행된다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/60168331/260284949-6213100f-bac7-462b-aac3-38323f88ffaf.jpg" /></p><h3 id="1-개요">1. 개요</h3><p>데이터 분석을 시작하기 전에, 정확한 데이터 분석을 위해 전처리 과정이 필요하다. 데이터 분석가 업무의 80%는 데이터 전처리라는 우스갯소리를 할 정도로 굉장히 많은 시간이 들어가고 많은 고민을 하는것이 데이터 전처리 과정이다. 이번 뽐뿌 <strong>특가 데이터 분석</strong>에도 데이터 전처리는 빠질수 없는 과정으로 분석을 진행하기 용이하기 데이터 전처리를 진행했다.</p><h3 id="2-데이터-전처리-과정">2. 데이터 전처리 과정</h3><p>데이터 전처리는 아래의 3개 과정을 통해 진행되었다.</p><ol><li><strong>특성 추출</strong>: 게시물 제목에서 판매채널, 제품 가격, 배송비 정보를 추출했다.</li><li><strong>데이터 정제</strong>: 추출한 특성에서 결측치, 이상치, 정합성 확인, 통합 등을 처리하여 데이터의 일관성과 정확성을 높였다</li><li><strong>데이터 변환</strong>: 문자열을 숫자로 변환하는 등의 필요한 형태로 데이터를 변환했다.</li></ol><h3 id="3-결론">3. 결론</h3><p>데이터 전처리를 통해 특가 게시물의 핵심 정보인 판매 채널, 제품 금액, 배송비, 그리고 키워드를 추출하였다. 이러한 과정에서 판매 채널의 통합, 금액 정보의 정제 및 키워드의 최적화 작업으로 데이터 품질을 향상시켰다. 이렇게 향상된 데이터는 특가를 찾는 사용자들의 관심도와 반응을 파악하는 데 큰 도움을 제공할 것이다. 따라서, 전처리된 데이터는 특가 정보의 특성과 트렌드를 더욱 명확하게 보여주며, 사용자들이 더 현명한 소비 결정을 내릴 수 있도록 도와줄 것이다.</p><h2 id="데이터-전처리-코드">데이터 전처리 코드</h2><hr /><h3 id="1-package-and-data-load">1. Package and Data load</h3><p>데이터 전처리 전에 패키지를 임포트하고 데이터를 로드하여 데이터를 확인한다. 또한, 컬럼의 정의는 아래와 같다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="nn">re</span>

<span class="kn">from</span> <span class="nn">tqdm</span> <span class="kn">import</span> <span class="n">tqdm</span>
<span class="kn">from</span> <span class="nn">kiwipiepy</span> <span class="kn">import</span> <span class="n">Kiwi</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">'./datas/2023-06-30 22:27:20.666568_117980개.csv'</span><span class="p">)</span>
<span class="n">df</span><span class="p">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></table></code></div></div><div class="table-wrapper"><table><thead><tr><th> <th>item_no<th>writer<th>title<th>end<th>comment<th>date<th>recommend<th>opposite<th>view<th>category<th>URL<th>pop<th>hot<tbody><tr><td>0<td>470673<td>Ko<em>**</em><td>[cj온스타일] 아이더 반팔 기능티 2장 (21,600원/무료)<td>True<td>8<td>23.06.29 20:39:22<td>1<td>1<td>7125<td>[의류/잡화]<td>https://www.ppomppu.co.kr/zboard/view.php?id=p…<td>False<td>False<tr><td>1<td>470672<td>아<em>**</em><td>[G마켓] PS5 디스크 에디션 갓오워 라그나로크 에디션(1218A) (606,97…<td>True<td>15<td>23.06.29 20:03:40<td>0<td>0<td>9811<td>[가전/가구]<td>https://www.ppomppu.co.kr/zboard/view.php?id=p…<td>False<td>False</table></div><div class="table-wrapper"><table><thead><tr><th style="text-align: center">Column<th style="text-align: center">설명<tbody><tr><td style="text-align: center">item_no<td style="text-align: center">게시물 번호<tr><td style="text-align: center">Author<td style="text-align: center">작성자<tr><td style="text-align: center">Title<td style="text-align: center">게시물 제목<tr><td style="text-align: center">end<td style="text-align: center">특가 종료 여부<tr><td style="text-align: center">Comments<td style="text-align: center">댓글 수<tr><td style="text-align: center">Date<td style="text-align: center">게시 날짜<tr><td style="text-align: center">recommend<td style="text-align: center">추천수<tr><td style="text-align: center">opposite<td style="text-align: center">반대수<tr><td style="text-align: center">view<td style="text-align: center">조회수<tr><td style="text-align: center">Category<td style="text-align: center">특가 제품이 속한 카테고리<tr><td style="text-align: center">URL<td style="text-align: center">URL<tr><td style="text-align: center">pop<td style="text-align: center">인기 게시물 여부<tr><td style="text-align: center">hot<td style="text-align: center">핫 게시물 여부</table></div><h3 id="2-데이터-요약-정보">2. 데이터 요약 정보</h3><p>데이터 전처리의 시작으로 크롤링된 데이터의 요약자료를 보았다. 눈에 뜨는것은 댓글이 1401개 있는 게시물인데, 확인해보니 <strong>P11</strong> 가성비 태블릿이 역대급 특가였으나, 실제로는 가격 오류로 인한것이였으며, 주문 제품은 모두 취소처리된 게시물이다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">df</span><span class="p">.</span><span class="n">describe</span><span class="p">()</span>
</pre></table></code></div></div><div class="table-wrapper"><table><thead><tr><th> <th>item_no<th>comment<th>recommend<th>opposite<th>view<tbody><tr><td>count<td>117980.000000<td>117980.000000<td>117980.000000<td>117980.000000<td>117980.000000<tr><td>mean<td>387483.181395<td>30.878047<td>6.636947<td>0.207391<td>14840.913062<tr><td>std<td>48189.476587<td>32.625210<td>13.671075<td>1.476107<td>10264.550307<tr><td>min<td>305204.000000<td>0.000000<td>0.000000<td>0.000000<td>731.000000<tr><td>25%<td>345619.750000<td>11.000000<td>0.000000<td>0.000000<td>7676.000000<tr><td>50%<td>387378.500000<td>21.000000<td>2.000000<td>0.000000<td>12169.000000<tr><td>75%<td>428465.250000<td>39.000000<td>7.000000<td>0.000000<td>19035.000000<tr><td>max<td>470673.000000<td>1401.000000<td>582.000000<td>141.000000<td>427882.000000</table></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">df</span><span class="p">.</span><span class="n">info</span><span class="p">()</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 117980 entries, 0 to 117979
Data columns (total 13 columns):
 #   Column     Non-Null Count   Dtype 
---  ------     --------------   ----- 
 0   item_no    117980 non-null  int64 
 1   writer     117980 non-null  object
 2   title      117980 non-null  object
 3   end        117980 non-null  bool  
 4   comment    117980 non-null  int64 
 5   date       117980 non-null  object
 6   recommend  117980 non-null  int64 
 7   opposite   117980 non-null  int64 
 8   view       117980 non-null  int64 
 9   category   117980 non-null  object
 10  URL        117980 non-null  object
 11  pop        117980 non-null  bool  
 12  hot        117980 non-null  bool  
dtypes: bool(3), int64(5), object(5)
memory usage: 9.3+ MB
</pre></table></code></div></div><h3 id="3-제목에서-판매-채널-가격-정보-가져오기">3. 제목에서 판매 채널, 가격 정보 가져오기</h3><p>뽐뿌게시판은 제목 맨앞에 판매 채널, 맨 뒤에 가격을 적는것을 규칙으로 하고 있으며, 이번에는 해당 규칙을 활용해 판매 채널과 가격을 제목에서 추출했다. 다만, 게시물 작성 규칙을 지키 않아도 게시글은 작성이 되므로 예외 처리된 데이터도 있을것으로 판단되며, 예외 처리되는 데이터를 줄여야 한다. 전체 특가 데이터는 117,980개로 Null값은 없는것으로 보인다. 또한 int형태와 object 형태로만 되어있어서 데이터를 정리할 필요가 있어보인다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">extract_sales_channel_and_price</span><span class="p">(</span><span class="n">title</span><span class="p">):</span>
    <span class="s">""" 특가 게시물 제목에서 가격, 판매채널 추출
    Args:
        title - 특가 게시물 제목
    Returns:
        str : 아래의 데이터를 가진 str형식 return
            - sales_channel : 특가 판매 채널 (e.g 지마켓)
            - price : 제품/배송비 가격
    """</span>
    <span class="c1"># 문자열에서 [...] 혹은 (...) 형태의 구성을 찾아 추출
</span>    <span class="n">pattern</span> <span class="o">=</span> <span class="sa">r</span><span class="s">"\[([^\]]+)\]|\(([^\)]+)\)"</span>
    
    <span class="c1"># 가격, 판매채널 추출
</span>    <span class="n">matches</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">title</span><span class="p">)</span>
    
    <span class="c1"># 판매채널
</span>    <span class="n">sales_channel</span> <span class="o">=</span> <span class="n">matches</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="ow">or</span> <span class="n">matches</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="n">matches</span> <span class="k">else</span> <span class="s">"unknown"</span>
    <span class="n">sales_channel</span> <span class="o">=</span> <span class="n">sales_channel</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span>
    
    <span class="c1"># 가격
</span>    <span class="n">price</span> <span class="o">=</span> <span class="n">matches</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="ow">or</span> <span class="n">matches</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="n">matches</span> <span class="k">else</span> <span class="s">"unknown"</span>  <span class="c1"># Return the last match
</span>    <span class="n">price</span> <span class="o">=</span> <span class="n">price</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span>
    
    <span class="k">return</span> <span class="n">sales_channel</span><span class="p">,</span> <span class="n">price</span>

<span class="c1"># 제목에서 판매채널과 가격 추출
</span><span class="n">df</span><span class="p">[</span><span class="s">'sales_channel'</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s">'price'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">df</span><span class="p">[</span><span class="s">'title'</span><span class="p">].</span><span class="nb">map</span><span class="p">(</span><span class="n">extract_sales_channel_and_price</span><span class="p">))</span>
<span class="n">df</span><span class="p">[[</span><span class="s">'title'</span><span class="p">,</span> <span class="s">'sales_channel'</span><span class="p">,</span> <span class="s">'price'</span><span class="p">]].</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></table></code></div></div><div class="table-wrapper"><table><thead><tr><th> <th>title<th>sales_channel<th>price<tbody><tr><td>0<td>[cj온스타일] 아이더 반팔 기능티 2장 (21,600원/무료)<td>cj온스타일<td>21,600원/무료<tr><td>1<td>[G마켓] PS5 디스크 에디션 갓오워 라그나로크 에디션(1218A) (606,97…<td>G마켓<td>606,970/무료</table></div><h3 id="4-제품배송비-가격-정보에서-제품-가격과-배송비-정보를-분리">4. 제품/배송비 가격 정보에서 제품 가격과 배송비 정보를 분리</h3><p><code class="language-plaintext highlighter-rouge">price</code> 컬럼을 보면 제품 가격과 배송비가 같이 적혀있으므로, 이를 다시 분리해준다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">split_price</span><span class="p">(</span><span class="n">price</span><span class="p">):</span>
    <span class="s">""" 제품/배송비 가격에서 제품 가격과 배송비 분리
    Args:
        price - 제품/배송비 가격
    Returns:
        str : 아래의 데이터를 가진 str형식 return
            - product_price : 특가 제품 가격
            - shipping_cost : 배송비
    """</span>
    <span class="c1"># price에 배송비가 없는 경우도 있으므로, 있으면 제품가격과 배송비, 없으면 제품가격과 unknown으로 리턴
</span>    <span class="k">if</span> <span class="s">"/"</span> <span class="ow">in</span> <span class="n">price</span><span class="p">:</span>
        <span class="n">product_price</span><span class="p">,</span> <span class="n">shipping_cost</span> <span class="o">=</span> <span class="n">price</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">"/"</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># Split into at most 2 parts
</span>    <span class="k">else</span><span class="p">:</span>
        <span class="n">product_price</span> <span class="o">=</span> <span class="n">price</span>
        <span class="n">shipping_cost</span> <span class="o">=</span> <span class="s">"unknown"</span>
    <span class="k">return</span> <span class="n">product_price</span><span class="p">,</span> <span class="n">shipping_cost</span>

<span class="c1"># 가격에서 제품 가격과 배송비 구별
</span><span class="n">df</span><span class="p">[</span><span class="s">'product_price'</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s">'shipping_cost'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">df</span><span class="p">[</span><span class="s">'price'</span><span class="p">].</span><span class="nb">map</span><span class="p">(</span><span class="n">split_price</span><span class="p">))</span>
<span class="n">df</span><span class="p">[[</span><span class="s">'title'</span><span class="p">,</span> <span class="s">'sales_channel'</span><span class="p">,</span> <span class="s">'price'</span><span class="p">,</span> <span class="s">'product_price'</span><span class="p">,</span> <span class="s">'shipping_cost'</span><span class="p">]].</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></table></code></div></div><div class="table-wrapper"><table><thead><tr><th> <th>title<th>sales_channel<th>price<th>product_price<th>shipping_cost<tbody><tr><td>0<td>[cj온스타일] 아이더 반팔 기능티 2장 (21,600원/무료)<td>cj온스타일<td>21,600원/무료<td>21,600원<td>무료<tr><td>1<td>[G마켓] PS5 디스크 에디션 갓오워 라그나로크 에디션(1218A) (606,97…<td>G마켓<td>606,970/무료<td>606,970<td>무료</table></div><h3 id="5-판매-채널-통합">5. 판매 채널 통합</h3><p>판매 채널의 갯수는 5,992개이지만 사람이 직접 적는것으로 같은 판매 채널이여도 약어로 적거나 별칭 등 다르게 적을 수 있어서 동일한 채널이라면 하나의 판매채널로 통합한다. 정리하여 5,992개에서 3,751개로 38% 가량 통합하였다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">df</span><span class="p">[</span><span class="s">"sales_channel"</span><span class="p">].</span><span class="n">value_counts</span><span class="p">()</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre>G마켓        14920
11번가       12163
옥션         11152
위메프         9173
티몬          8857
           ...  
롯데온앱           1
쎄제이            1
파파존스           1
옥션스마일클럽        1
NS쇼핑몰          1
Name: sales_channel, Length: 5992, dtype: int64
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">channel_merge</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">change_channel</span><span class="p">):</span>
    <span class="s">""" 판매 채널 명
    Args:
        df - 특가 게시물 Dataframe
        channel - 변경 전 채널 이름 
        change_channel - 변경될 채널 이름
        
    Returns:
        Dataframe : 통합 채널명으로 변경된 DataFrame
    """</span>
    
    <span class="c1"># 통합될 채널 이름 찾기
</span>    <span class="n">temp</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s">"sales_channel"</span><span class="p">].</span><span class="nb">str</span><span class="p">.</span><span class="n">contains</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">case</span><span class="o">=</span><span class="bp">False</span><span class="p">)]</span>
    <span class="c1"># 변경할 index 저장
</span>    <span class="n">change_value_idx</span> <span class="o">=</span> <span class="n">temp</span><span class="p">.</span><span class="n">index</span>
    <span class="c1"># index를 기준으로 변경 될 채널이름으로 변경
</span>    <span class="n">df</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span><span class="n">change_value_idx</span><span class="p">,</span> <span class="s">"sales_channel"</span><span class="p">]</span> <span class="o">=</span> <span class="n">change_channel</span>
    <span class="k">return</span> <span class="n">df</span>

<span class="n">channel_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s">"네이버"</span><span class="p">:[</span><span class="s">"네이버"</span><span class="p">,</span> <span class="s">"스마트스토어"</span><span class="p">,</span> <span class="s">"스토어팜"</span><span class="p">,</span> <span class="s">"원쁠딜"</span><span class="p">],</span>
                <span class="s">"11번가"</span><span class="p">:[</span><span class="s">"11번가"</span><span class="p">,</span> <span class="s">"11st"</span><span class="p">,</span> <span class="s">"11마존"</span><span class="p">,</span> <span class="s">"쇼킹딜"</span><span class="p">],</span>
                <span class="s">"신세계"</span><span class="p">:[</span><span class="s">"신세계"</span><span class="p">,</span> <span class="s">"SSG"</span><span class="p">],</span>
                <span class="s">"하이마트"</span><span class="p">:[</span><span class="s">"하이마트"</span><span class="p">],</span>
                <span class="s">"롯데"</span><span class="p">:[</span><span class="s">"롯데"</span><span class="p">,</span> <span class="s">"칠성몰"</span><span class="p">],</span>
                <span class="s">"카카오"</span><span class="p">:[</span><span class="s">"카카오"</span><span class="p">,</span> <span class="s">"톡딜"</span><span class="p">,</span> <span class="s">"카톡"</span><span class="p">,</span> <span class="s">"톡스토어"</span><span class="p">],</span>
                <span class="s">"티몬"</span><span class="p">:[</span><span class="s">"티몬"</span><span class="p">,</span> <span class="s">"tmon"</span><span class="p">,</span> <span class="s">"티켓몬스터"</span><span class="p">],</span>
                <span class="s">"CJ"</span><span class="p">:[</span><span class="s">"CJ"</span><span class="p">],</span>
                <span class="s">"그립"</span><span class="p">:[</span><span class="s">"그립"</span><span class="p">,</span> <span class="s">"grip"</span><span class="p">],</span>
                <span class="s">"우체국"</span><span class="p">:[</span><span class="s">"우체국"</span><span class="p">],</span>
                <span class="s">"쿠팡"</span><span class="p">:[</span><span class="s">"쿠팡"</span><span class="p">,</span> <span class="s">"ㅋㅍ"</span><span class="p">],</span>
                <span class="s">"보고"</span><span class="p">:[</span><span class="s">"보고"</span><span class="p">,</span><span class="s">"vogo"</span><span class="p">],</span>
                <span class="s">"인터파크"</span><span class="p">:[</span><span class="s">"인터파크"</span><span class="p">],</span>
                <span class="s">"AK몰"</span><span class="p">:[</span><span class="s">"ak"</span><span class="p">],</span>
                <span class="s">"큐텐"</span><span class="p">:[</span><span class="s">"큐텐"</span><span class="p">,</span> <span class="s">"Qo"</span><span class="p">,</span> <span class="s">"큐10"</span><span class="p">,</span> <span class="s">"Q10"</span><span class="p">],</span>
                <span class="s">"Quube"</span><span class="p">:[</span><span class="s">"Quube"</span><span class="p">],</span>
                <span class="s">"GS"</span><span class="p">:[</span><span class="s">"gs"</span><span class="p">,</span> <span class="s">"나만의 냉장고"</span><span class="p">],</span>
                <span class="s">"지마켓/옥션"</span><span class="p">:[</span><span class="s">"지마켓"</span><span class="p">,</span> <span class="s">"옥션"</span><span class="p">,</span><span class="s">"지/옥"</span><span class="p">,</span> <span class="s">"쥐마켓"</span><span class="p">,</span> <span class="s">"g마켓"</span><span class="p">,</span> <span class="s">"g9"</span><span class="p">,</span> <span class="s">"지9"</span><span class="p">,</span> <span class="s">"지구"</span><span class="p">,</span> <span class="s">"gmarket"</span><span class="p">,</span> <span class="s">"지옥"</span><span class="p">,</span> <span class="s">"옥베이"</span><span class="p">],</span>
                <span class="s">"SK"</span><span class="p">:[</span><span class="s">"sk"</span><span class="p">],</span>
                <span class="s">"아이허브"</span><span class="p">:[</span><span class="s">"ih"</span><span class="p">],</span>
                <span class="s">"KT"</span><span class="p">:[</span><span class="s">"kt"</span><span class="p">],</span>
                <span class="s">"Hmall"</span><span class="p">:[</span><span class="s">"hm"</span><span class="p">,</span> <span class="s">"H패"</span><span class="p">,</span> <span class="s">"현대몰"</span><span class="p">,</span> <span class="s">"h몰"</span><span class="p">],</span>
                <span class="s">"홈플러스"</span><span class="p">:[</span><span class="s">"홈플"</span><span class="p">],</span>
                <span class="s">"NS홈쇼핑"</span><span class="p">:[</span><span class="s">"ns"</span><span class="p">],</span>
                <span class="s">"이마트"</span><span class="p">:[</span><span class="s">"이마트몰"</span><span class="p">],</span>
                <span class="s">"메가마트"</span><span class="p">:[</span><span class="s">"메가마트"</span><span class="p">],</span>
                <span class="s">"오늘의집"</span><span class="p">:[</span><span class="s">"오늘의"</span><span class="p">],</span>
                <span class="s">"전자랜드"</span><span class="p">:[</span><span class="s">"전자랜드"</span><span class="p">],</span>
                <span class="s">"나이키"</span><span class="p">:[</span><span class="s">"나이키"</span><span class="p">],</span>
                <span class="s">"예스24"</span><span class="p">:[</span><span class="s">"yes"</span><span class="p">],</span>
                <span class="s">"코스트코"</span><span class="p">:[</span><span class="s">"코스트코"</span><span class="p">],</span>
                <span class="s">"Steam"</span><span class="p">:[</span><span class="s">"Steam"</span><span class="p">,</span> <span class="s">"스팀"</span><span class="p">,</span> <span class="s">"Indiegala"</span><span class="p">],</span>
                <span class="s">"아디다스"</span><span class="p">:[</span><span class="s">"아디다스"</span><span class="p">],</span>
                <span class="s">"홈앤쇼핑"</span><span class="p">:[</span><span class="s">"홈&amp;"</span><span class="p">],</span>
                <span class="s">"삼성"</span><span class="p">:[</span><span class="s">"삼성"</span><span class="p">],</span>
                <span class="s">"신한"</span><span class="p">:[</span><span class="s">"신한"</span><span class="p">],</span>
                <span class="s">"크록스"</span><span class="p">:[</span><span class="s">"크록스"</span><span class="p">],</span>
                <span class="s">"국민"</span><span class="p">:[</span><span class="s">"국민"</span><span class="p">,</span> <span class="s">"국카"</span><span class="p">],</span>
                <span class="s">"다이슨"</span><span class="p">:[</span><span class="s">"다이슨"</span><span class="p">],</span>
                <span class="s">"리복"</span><span class="p">:[</span><span class="s">"리복"</span><span class="p">],</span>
                <span class="s">"LF스퀘어몰"</span><span class="p">:[</span><span class="s">"LF"</span><span class="p">],</span>
                <span class="s">"K쇼핑"</span><span class="p">:[</span><span class="s">"K쇼핑"</span><span class="p">],</span>
                <span class="s">"CGV"</span><span class="p">:[</span><span class="s">"CGV"</span><span class="p">],</span>
                <span class="s">"배달의민족"</span><span class="p">:[</span><span class="s">"배민"</span><span class="p">],</span>
                <span class="s">"동원몰"</span><span class="p">:[</span><span class="s">"동원"</span><span class="p">],</span>
                <span class="s">"탑텐"</span><span class="p">:[</span><span class="s">"탑텐"</span><span class="p">],</span>
                <span class="s">"위메프"</span><span class="p">:[</span><span class="s">"위메프"</span><span class="p">],</span>
                <span class="s">"unknown"</span><span class="p">:[</span><span class="s">"종료"</span><span class="p">,</span> <span class="s">"끌어올림"</span><span class="p">,</span> <span class="s">"끌올"</span><span class="p">,</span> <span class="s">"무배"</span><span class="p">,</span> <span class="s">"다양"</span><span class="p">,</span> <span class="s">"공홈"</span><span class="p">]</span>
               <span class="p">}</span>

<span class="k">for</span> <span class="n">change_channel</span><span class="p">,</span> <span class="n">channels</span> <span class="ow">in</span> <span class="n">channel_dict</span><span class="p">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">channel</span> <span class="ow">in</span> <span class="n">channels</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">channel_merge</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">change_channel</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s">"sales_channel"</span><span class="p">].</span><span class="n">value_counts</span><span class="p">()</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre>지마켓/옥션         35548
11번가           14834
위메프             9247
티몬              9009
네이버             6828
               ...  
110만원대 /무료         1
올렛츠                1
Folderstyle        1
모요/스마텔             1
리브메이트앱             1
Name: sales_channel, Length: 3751, dtype: int64
</pre></table></code></div></div><h3 id="6-제품-가격의-자료형을-str에서-float형으로-변환함">6. 제품 가격의 자료형을 Str에서 Float형으로 변환함</h3><p>가격 데이터 분석에 용이하기 위해 unknown을 넘파이를 이용하여 NaN으로 변환하고, 그 외 자료는 <code class="language-plaintext highlighter-rouge">원</code>글씨를 제외하고 숫자만 남긴다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">convert_price_to_int</span><span class="p">(</span><span class="n">price</span><span class="p">):</span>
    <span class="s">""" 제품 가격 자료형 변환
    Args:
        price - : Str 형식의 제품 가격
    Returns:
        Nan : unknown일때
        int : Int형 가격
    """</span>
    
    <span class="c1"># unknown은 NaN값
</span>    <span class="k">if</span> <span class="n">price</span> <span class="o">==</span> <span class="s">"unknown"</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">np</span><span class="p">.</span><span class="n">NaN</span>
    <span class="c1"># 그 외 가격은 "원", "," "."을 삭제한 숫자형
</span>    <span class="k">else</span><span class="p">:</span>
        <span class="n">cleaned_price</span> <span class="o">=</span> <span class="n">price</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="s">"원"</span><span class="p">,</span> <span class="s">""</span><span class="p">).</span><span class="n">replace</span><span class="p">(</span><span class="s">","</span><span class="p">,</span> <span class="s">""</span><span class="p">).</span><span class="n">replace</span><span class="p">(</span><span class="s">"."</span><span class="p">,</span> <span class="s">""</span><span class="p">).</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">cleaned_price</span><span class="p">.</span><span class="n">isdigit</span><span class="p">():</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">cleaned_price</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">np</span><span class="p">.</span><span class="n">NaN</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">df</span><span class="p">[</span><span class="s">'product_price'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s">'product_price'</span><span class="p">].</span><span class="nb">map</span><span class="p">(</span><span class="n">convert_price_to_int</span><span class="p">)</span>
<span class="n">df</span><span class="p">[[</span><span class="s">'title'</span><span class="p">,</span> <span class="s">'sales_channel'</span><span class="p">,</span> <span class="s">'price'</span><span class="p">,</span> <span class="s">'product_price'</span><span class="p">,</span> <span class="s">'shipping_cost'</span><span class="p">]].</span><span class="n">head</span><span class="p">()</span>
</pre></table></code></div></div><div class="table-wrapper"><table><thead><tr><th style="text-align: right"> <th style="text-align: left">title<th style="text-align: left">sales_channel<th style="text-align: left">price<th style="text-align: left">product_price<th style="text-align: left">shipping_cost<tbody><tr><td style="text-align: right">0<td style="text-align: left">[cj온스타일] 아이더 반팔 기능티 2장 (21,600원/무료)<td style="text-align: left">CJ<td style="text-align: left">21,600원/무료<td style="text-align: left">21,600.0<td style="text-align: left">무료<tr><td style="text-align: right">1<td style="text-align: left">[G마켓] PS5 디스크 에디션 갓오워 라그나로크 에디션(1218A)<td style="text-align: left">지마켓/옥션<td style="text-align: left">606,970/무료<td style="text-align: left">606,970.0<td style="text-align: left">무료<tr><td style="text-align: right">2<td style="text-align: left">[네이버] 국내산 1등급 소고기 등심 200G (9,900원/4000원)<td style="text-align: left">네이버<td style="text-align: left">9,900원/4000원<td style="text-align: left">9,900.0<td style="text-align: left">4000원<tr><td style="text-align: right">3<td style="text-align: left">[NS몰] 데이즈온 오한진 초임계 알티지 오메가3 비타플러스 3개월<td style="text-align: left">NS홈쇼핑<td style="text-align: left">9,500원/무료<td style="text-align: left">9,500.0<td style="text-align: left">무료<tr><td style="text-align: right">4<td style="text-align: left">[옥션] 리큐 진한겔 꿉꿉한냄새 싹 2.1L X 6 [20,930/무료배송]<td style="text-align: left">지마켓/옥션<td style="text-align: left">20,930/무료배송<td style="text-align: left">20,930.0<td style="text-align: left">무료배송</table></div><h3 id="7-제품-가격-아웃라이어-확인-및-nan-처리">7. 제품 가격 아웃라이어 확인 및 NaN 처리</h3><p>특가 게시물 등록시 규칙을 지키지 않거나 가격을 여러번 적어 잘못 추출된 가격을 삭제하기 위해 상위 0.0014를 nan 값 처리 했다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="c1"># 상위 0.0014 제외
</span><span class="n">cut</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s">"product_price"</span><span class="p">].</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.9986</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"기준 가격 </span><span class="si">{</span><span class="n">cut</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s">"product_price"</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">cut</span><span class="p">]</span>
<span class="n">temp</span><span class="p">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s">"product_price"</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)[[</span><span class="s">"product_price"</span><span class="p">,</span> <span class="s">"price"</span><span class="p">]]</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>기준 가격 6050509.500005719
</pre></table></code></div></div><div class="table-wrapper"><table><thead><tr><th style="text-align: right"> <th style="text-align: center">product_price<th style="text-align: center">price<tbody><tr><td style="text-align: right">108936<td style="text-align: center">7.495909e+17<td style="text-align: center">749,590,887,040,974,160/무료<tr><td style="text-align: right">101994<td style="text-align: center">9.600097e+14<td style="text-align: center">96,000원,96,500원,97,000원/무료,무료,5장이상 구매시 무료<tr><td style="text-align: right">89044<td style="text-align: center">3.570020e+14<td style="text-align: center">35700,19800,18990/2500,3000<tr><td style="text-align: right">63422<td style="text-align: center">3.083063e+14<td style="text-align: center">30,830원,62,770원,33,620원/무료<tr><td style="text-align: right">76481<td style="text-align: center">2.590028e+14<td style="text-align: center">25900,27900,30900/무료배송<tr><td style="text-align: right">…<td style="text-align: center">…<td style="text-align: center">…<tr><td style="text-align: right">100576<td style="text-align: center">9.701960e+06<td style="text-align: center">970,1,960/2500<tr><td style="text-align: right">44753<td style="text-align: center">8.891700e+06<td style="text-align: center">889,1700/무료, 카드할인 791,360원, 자급제, 로켓배송<tr><td style="text-align: right">80368<td style="text-align: center">7.690000e+06<td style="text-align: center">769,000,0<tr><td style="text-align: right">34872<td style="text-align: center">7.324760e+06<td style="text-align: center">7324,760/무료<tr><td style="text-align: right">96789<td style="text-align: center">6.510000e+06<td style="text-align: center">651,0000/배송</table></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">top_index</span> <span class="o">=</span> <span class="n">temp</span><span class="p">.</span><span class="n">index</span>
<span class="n">df</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span><span class="n">top_index</span><span class="p">,</span> <span class="s">"product_price"</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">nan</span>
</pre></table></code></div></div><h3 id="8-배송비-정합성-확인-및-nan-처리">8. 배송비 정합성 확인 및 NaN 처리</h3><p>배송비에 대한 단어들은 “무료”, “무배” 등 여러 가지로 작성되어 있어서 무료배송을 뜻하는 단어를 포함하면 모두 0원으로 변경하고 그 외 단어는 NaN처리했다. 그리고 나머지 데이터는 숫자로 변경하였다</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c1"># 배송비 확인
</span><span class="n">df</span><span class="p">[</span><span class="s">"shipping_cost"</span><span class="p">].</span><span class="n">value_counts</span><span class="p">()</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre>무료                        53908
무배                        12669
unknown                   11391
무료배송                       9793
 무료                        4459
                          ...  
쿠폰받으면무료                       1
닌텐도 스위치                       1
2,500, 2만원이상 무료배송             1
와우회원무료, 카드할인20,720            1
 29,800원이상 무료,미만 5,000        1
Name: shipping_cost, Length: 4330, dtype: int64
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">convert_shipping_cost</span><span class="p">(</span><span class="n">cost</span><span class="p">):</span>
    <span class="s">""" 배송비 변환
    Args:
        cost - Str 형식의 배송비
    Returns:
        Nan : unknown이거나, 그 외 Str형 일때
        0 : 무료 배송일때
        int : 그 외 숫자형 일때
    """</span>
    <span class="n">cost</span> <span class="o">=</span> <span class="n">cost</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">cost</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">"무료"</span><span class="p">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="s">"0"</span>
    <span class="k">elif</span> <span class="n">cost</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">"무배"</span><span class="p">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="s">"0"</span>
    <span class="k">elif</span> <span class="n">cost</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="s">"원"</span><span class="p">,</span> <span class="s">""</span><span class="p">).</span><span class="n">replace</span><span class="p">(</span><span class="s">","</span><span class="p">,</span> <span class="s">""</span><span class="p">).</span><span class="n">replace</span><span class="p">(</span><span class="s">"~"</span><span class="p">,</span> <span class="s">""</span><span class="p">).</span><span class="n">replace</span><span class="p">(</span><span class="s">"."</span><span class="p">,</span> <span class="s">""</span><span class="p">).</span><span class="n">isdigit</span><span class="p">():</span>
        <span class="k">return</span> <span class="n">cost</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="s">"원"</span><span class="p">,</span> <span class="s">""</span><span class="p">).</span><span class="n">replace</span><span class="p">(</span><span class="s">","</span><span class="p">,</span> <span class="s">""</span><span class="p">).</span><span class="n">replace</span><span class="p">(</span><span class="s">"~"</span><span class="p">,</span> <span class="s">""</span><span class="p">).</span><span class="n">replace</span><span class="p">(</span><span class="s">"."</span><span class="p">,</span> <span class="s">""</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">np</span><span class="p">.</span><span class="n">NaN</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">df</span><span class="p">[</span><span class="s">'shipping_cost'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s">'shipping_cost'</span><span class="p">].</span><span class="nb">map</span><span class="p">(</span><span class="n">convert_shipping_cost</span><span class="p">)</span>
<span class="n">df</span><span class="p">[[</span><span class="s">'title'</span><span class="p">,</span> <span class="s">'sales_channel'</span><span class="p">,</span> <span class="s">'price'</span><span class="p">,</span> <span class="s">'product_price'</span><span class="p">,</span> <span class="s">'shipping_cost'</span><span class="p">]].</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></table></code></div></div><div class="table-wrapper"><table><thead><tr><th style="text-align: right"> <th style="text-align: left">title<th style="text-align: left">sales_channel<th style="text-align: left">price<th style="text-align: left">product_price<th style="text-align: left">shipping_cost<tbody><tr><td style="text-align: right">0<td style="text-align: left">[cj온스타일] 아이더 반팔 기능티 2장 (21,600원/무료)<td style="text-align: left">CJ<td style="text-align: left">21,600원/무료<td style="text-align: left">21600.0<td style="text-align: left">0<tr><td style="text-align: right">1<td style="text-align: left">[G마켓] PS5 디스크 에디션 갓오워 라그나로크 에디션(1218A)<td style="text-align: left">지마켓/옥션<td style="text-align: left">606,970/무료<td style="text-align: left">606970.0<td style="text-align: left">0</table></div><h3 id="9-배송비-아웃라이어-확인-및-nan-처리">9. 배송비 아웃라이어 확인 및 NaN 처리</h3><p>배송비 정합성 체크 후 잘못 추출된 배송비가 있을 수 있었다. 배송비가 상위 0.002 이상 (약 2만원)은 NaN 처리를 해주었다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c1"># 배송비 아웃라이어 확인
</span><span class="n">df</span><span class="p">[</span><span class="s">"shipping_cost"</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s">"shipping_cost"</span><span class="p">].</span><span class="n">fillna</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">).</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">).</span><span class="n">replace</span><span class="p">({</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="bp">None</span><span class="p">})</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="c1"># (상위 0.002 제외)
</span><span class="n">cut</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s">"shipping_cost"</span><span class="p">].</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.998</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"기준 가격 </span><span class="si">{</span><span class="n">cut</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s">"shipping_cost"</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">cut</span><span class="p">]</span>
<span class="n">temp</span><span class="p">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s">"shipping_cost"</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)[[</span><span class="s">"shipping_cost"</span><span class="p">,</span> <span class="s">"price"</span><span class="p">]]</span>
<span class="n">top_index</span> <span class="o">=</span> <span class="n">temp</span><span class="p">.</span><span class="n">index</span>
<span class="n">df</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span><span class="n">top_index</span><span class="p">,</span> <span class="s">"shipping_cost"</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">nan</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>기준 가격 20000.0
</pre></table></code></div></div><h3 id="10-키워드-추출">10. 키워드 추출</h3><p>특가 데이터 분석에 용이하게 하기 위해 Kiwi 패키지를 사용하여 제목에서 판매 채널과 가격 정보, 특수 문자를 제외하여 제목을 정제하였으며, 정제된 제목에서 불용어를 제외한 명사형 키워드를 추출하였다. 불용어의 기준은 의미를 모르거나, 자주 등장된 단어 중 필요 없다고 판단된 단어이다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">clean_title</span><span class="p">(</span><span class="n">title</span><span class="p">):</span>
    <span class="s">""" 제목 정체
    Args:
        title - Str 형식의 특가 게시물 제목
    Returns:
        title - Str 형식의 판매 채널, 제품 가격 정보, 특수 문자가 제외 된 제목
    """</span>
    <span class="c1"># 제목에서 판매 채널 제외
</span>    <span class="n">title</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s">'^\[([^\]]+)\]|\(([^\)]+)\)s*'</span><span class="p">,</span> <span class="s">''</span><span class="p">,</span> <span class="n">title</span><span class="p">)</span>
    <span class="c1"># 제목에서 가격 정보 제외
</span>    <span class="n">title</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s">'\s*\[([^\]]+)\]|\(([^\)]+)\)$'</span><span class="p">,</span> <span class="s">''</span><span class="p">,</span> <span class="n">title</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">title</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="n">df</span><span class="p">[</span><span class="s">'title'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s">'title'</span><span class="p">].</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s">'real_title'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s">'title'</span><span class="p">].</span><span class="nb">apply</span><span class="p">(</span><span class="n">clean_title</span><span class="p">)</span>
<span class="n">df</span><span class="p">[[</span><span class="s">'title'</span><span class="p">,</span> <span class="s">'real_title'</span><span class="p">]].</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></table></code></div></div><div class="table-wrapper"><table><thead><tr><th> <th>title<th>real_title<tbody><tr><td>0<td>[cj온스타일] 아이더 반팔 기능티 2장 (21,600원/무료)<td>아이더 반팔 기능티 2장<tr><td>1<td>[G마켓] PS5 디스크 에디션 갓오워 라그나로크 에디션(1218A) (606,97…<td>PS5 디스크 에디션 갓오워 라그나로크 에디션</table></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre>
<span class="k">def</span> <span class="nf">noun_extractor</span><span class="p">(</span><span class="n">title</span><span class="p">):</span>
    <span class="s">""" 명사 추출 및 불용어 처리 함수
    Args:
        title - Str 형식의 판매 채널, 제품 가격 정보, 특수 문자가 제외 된 제목
    Returns:
        results - List : title에서 지정된 불용어를 제외한 명사만 추출된 List
    """</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">kiwi</span><span class="p">.</span><span class="n">analyze</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">results</span>
    <span class="k">for</span> <span class="n">token</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">pos</span><span class="p">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">'N'</span><span class="p">)</span> <span class="ow">and</span> <span class="n">token</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stopwords</span><span class="p">:</span>
                <span class="n">results</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">results</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="c1"># 불용어
</span><span class="n">stopwords</span> <span class="o">=</span> <span class="p">[</span><span class="s">"할인"</span><span class="p">,</span> <span class="s">"쿠폰"</span><span class="p">,</span> <span class="s">"상품"</span><span class="p">,</span> <span class="s">"무료"</span><span class="p">,</span> <span class="s">"스마일"</span><span class="p">,</span> <span class="s">"적용"</span><span class="p">,</span> <span class="s">"카드"</span><span class="p">,</span> <span class="s">"삼성"</span><span class="p">,</span> <span class="s">"세트"</span><span class="p">,</span> <span class="s">"클럽"</span><span class="p">,</span>
            <span class="s">"프로"</span><span class="p">,</span> <span class="s">"증정"</span><span class="p">,</span> <span class="s">"블랙"</span><span class="p">,</span> <span class="s">"인치"</span><span class="p">,</span> <span class="s">"스클"</span><span class="p">,</span> <span class="s">"박스"</span><span class="p">,</span> <span class="s">"에어"</span><span class="p">,</span> <span class="s">"세대"</span><span class="p">,</span> <span class="s">"무선"</span><span class="p">,</span> <span class="s">"랜드"</span><span class="p">,</span> <span class="s">"머니"</span><span class="p">,</span>
            <span class="s">"가능"</span><span class="p">,</span> <span class="s">"캡슐"</span><span class="p">,</span> <span class="s">"샤오미"</span><span class="p">,</span> <span class="s">"결제"</span><span class="p">,</span> <span class="s">"포인트"</span><span class="p">,</span> <span class="s">"구매"</span><span class="p">,</span> <span class="s">"추가"</span><span class="p">,</span> <span class="s">"최대"</span><span class="p">,</span> <span class="s">"배송"</span><span class="p">,</span> <span class="s">"프리미엄"</span><span class="p">]</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="n">tqdm</span><span class="p">.</span><span class="n">pandas</span><span class="p">()</span>
<span class="n">kiwi</span> <span class="o">=</span> <span class="n">Kiwi</span><span class="p">()</span>
<span class="n">df</span><span class="p">[</span><span class="s">"keywords"</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s">"real_title"</span><span class="p">].</span><span class="n">progress_apply</span><span class="p">(</span><span class="n">noun_extractor</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>100%|█████████████████████████████████████████████████████████████████████████| 117980/117980 [00:23&lt;00:00, 4979.96it/s]
</pre></table></code></div></div><h3 id="11-인기핫-게시물과-일반-게시물-라벨링">11. 인기/핫 게시물과 일반 게시물 라벨링</h3><p>특가 데이터 분석을 인기/핫 게시물을 중점으로 할 것이므로, 인기/핫 게시물과 일반 게시물을 구별해주는 컬럼을 생성해주었다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="n">df</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s">'pop'</span><span class="p">]</span> <span class="o">==</span> <span class="bp">True</span><span class="p">,</span> <span class="s">'post_type'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'popular/hot'</span>
<span class="n">df</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s">'hot'</span><span class="p">]</span> <span class="o">==</span> <span class="bp">True</span><span class="p">,</span> <span class="s">'post_type'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'popular/hot'</span>
<span class="n">df</span><span class="p">[</span><span class="s">'post_type'</span><span class="p">].</span><span class="n">fillna</span><span class="p">(</span><span class="s">'general'</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></table></code></div></div><h3 id="12-데이터-저장">12. 데이터 저장</h3><p>전처리한 데이터를 csv 파일로 저장하여, 추후 특가 데이터 분석시 해당 전처리를 진행하지 않아도 되게 하였다. 또한 저장되는 파일명은 현재 시간을 자동으로 지정하여 실수로 다른 파일을 덮어쓰여 저장하지 않게 하였다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="c1"># 데이터 csv 저장
</span><span class="n">now</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">datetime</span><span class="p">.</span><span class="n">now</span><span class="p">())</span>
<span class="n">df</span><span class="p">.</span><span class="n">to_csv</span><span class="p">(</span><span class="sa">f</span><span class="s">"./datas/</span><span class="si">{</span><span class="n">now</span><span class="si">}</span><span class="s">_preprocessing.csv"</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/python/'>Python</a>, <a href='/categories/basic/'>Basic</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/preprocessing/" class="post-tag no-text-decoration" >Preprocessing</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><!-- Post sharing snippet v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=뽐뿌 특가 데이터 전처리 하기 - Data Include Me&url=https://datainclude.me/posts/%EB%BD%90%EB%BF%8C_%ED%8A%B9%EA%B0%80_%EB%8D%B0%EC%9D%B4%ED%84%B0_%EC%A0%84%EC%B2%98%EB%A6%AC_%ED%95%98%EA%B8%B0/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=뽐뿌 특가 데이터 전처리 하기 - Data Include Me&u=https://datainclude.me/posts/%EB%BD%90%EB%BF%8C_%ED%8A%B9%EA%B0%80_%EB%8D%B0%EC%9D%B4%ED%84%B0_%EC%A0%84%EC%B2%98%EB%A6%AC_%ED%95%98%EA%B8%B0/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=뽐뿌 특가 데이터 전처리 하기 - Data Include Me&url=https://datainclude.me/posts/%EB%BD%90%EB%BF%8C_%ED%8A%B9%EA%B0%80_%EB%8D%B0%EC%9D%B4%ED%84%B0_%EC%A0%84%EC%B2%98%EB%A6%AC_%ED%95%98%EA%B8%B0/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><!-- The Panel on right side (Desktop views) v2.3 © 2024 Your Name MIT License --><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"><h3 data-toc-skip>Recent Update</h3><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li class="recent-item"> <a href="/posts/%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%BB%B4%ED%93%A8%ED%8C%85_%EA%B0%80%EC%83%81%ED%99%94/">클라우드 컴퓨팅 - 가상화</a> <span class="text-muted small">2024-10-28</span></li><li class="recent-item"> <a href="/posts/gemini_api_%EC%82%AC%EC%9A%A9%ED%95%B4%EB%B3%B4%EA%B8%B0/">Gemini API 사용해보기</a> <span class="text-muted small">2024-03-12</span></li><li class="recent-item"> <a href="/posts/Ollama%EC%99%80_Python_%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC%EB%A5%BC_%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC_LLaMa2%EB%A5%BC_%EB%A1%9C%EC%BB%AC%EC%97%90%EC%84%9C_%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/">Ollama와 Python 라이브러리를 이용하여 LLaMa2를 로컬에서 사용하기</a> <span class="text-muted small">2024-02-13</span></li><li class="recent-item"> <a href="/posts/Mistral_7B_Fine_Tuning/">Mistral 7B 파인튜닝(Fine Tuning)하기</a> <span class="text-muted small">2023-10-25</span></li><li class="recent-item"> <a href="/posts/Penn_Fudan%EC%9C%BC%EB%A1%9C_%EC%95%8C%EC%95%84%EB%B3%B4%EB%8A%94_%EA%B0%9D%EC%B2%B4_%ED%83%90%EC%A7%80_%EB%B6%84%ED%95%A0/">Penn-Fudan으로 알아보는 객체 탐지(Object Detection), 분할(Segmentation) with FasterRCNN</a> <span class="text-muted small">2023-10-23</span></li></ul></div><div id="access-tags"><h3 data-toc-skip>Trending Tags</h3><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/tensorflow/">Tensorflow</a> <a class="post-tag" href="/tags/sklearn/">Sklearn</a> <a class="post-tag" href="/tags/round/">Round</a> <a class="post-tag" href="/tags/python-lv0/">Python Lv0</a> <a class="post-tag" href="/tags/pca/">PCA</a> <a class="post-tag" href="/tags/eda/">EDA</a> <a class="post-tag" href="/tags/distinct/">Distinct</a> <a class="post-tag" href="/tags/random-forest/">Random Forest</a> <a class="post-tag" href="/tags/beautifulsoup/">Beautifulsoup</a> <a class="post-tag" href="/tags/baekjoon/">Baekjoon</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><h3 data-toc-skip class="pl-3 pt-2 mb-2">Contents</h3><nav id="toc" data-toggle="toc"></nav></div></div><style> .recent-item { margin-bottom: 0.5rem; } .recent-item a { color: var(--link-color); } .recent-item .small { font-size: 0.75rem; margin-left: 0.5rem; }</style></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"> <!-- Recommend the other 3 posts according to the tags and categories of the current post, if the number is not enough, use the other latest posts to supplement. v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/%EC%A0%95%EA%B7%9C%ED%91%9C%ED%98%84%EC%8B%9D(regular_expression)/"><div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > Sep 19, 2020 <i class="unloaded">2020-09-19T16:30:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>정규표현식(Regular Express)</h3><div class="text-muted small"><p> 1. Regular Express 1.1 연습용 문장 import re search_target = '''Luke Skywarker 02-123-4567 luke@daum.net 다스베이더 070-9999-9999 darth_vader@gmail.com 서울시 서초구 서초동 서초아파트 princess leia 010 2454 3457 leia@g...</p></div></div></a></div><div class="card"> <a href="/posts/Zip%EA%B3%BC_%EC%96%B8%ED%8C%A9%ED%82%B9/"><div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > Sep 20, 2020 <i class="unloaded">2020-09-20T23:30:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Zip과 언팩킹</h3><div class="text-muted small"><p> 1. Zip과 언패킹 1.1 리스트를 튜플로 zip list1 = ['a', 'b', 'c'] list2 = [1, 2, 3] pairs = [pair for pair in zip(list1, list2)] pairs [('a', 1), ('b', 2), ('c', 3)] zip을 이용하여 두개의 list를 tuple형태로 묶을수 ...</p></div></div></a></div><div class="card"> <a href="/posts/%ED%8C%8C%EC%9D%B4%EC%8D%AC_%EA%B8%B0%EB%B3%B8_%EB%AC%B8%EB%B2%95%EA%B3%BC_%ED%95%A8%EC%88%98/"><div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > Sep 23, 2020 <i class="unloaded">2020-09-23T16:30:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>파이썬 기본 문법과 함수</h3><div class="text-muted small"><p> 1. 주석과 출력 1.1 주석 : 앞에 #을 붙이면 코드로 실행이 안됨 # 1 2 3 을 출력하는 코드 &lt;- 주석 print(1) print(2) print(3) 1 2 3 코드에 대한 설명이나 중간에 코드를 실행시키고 싶지않을때 사용 단축키 : ctrl + / 블럭설정 : shift + 방향키 1.2 출력 : pr...</p></div></div></a></div></div></div><!-- Navigation buttons at the bottom of the post. v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --><div class="post-navigation d-flex justify-content-between"> <a href="/posts/n_gram/" class="btn btn-outline-primary"><p>N-gram 이해하기</p></a> <a href="/posts/%EB%BD%90%EB%BF%8C_%ED%8A%B9%EA%B0%80_%EB%8D%B0%EC%9D%B4%ED%84%B0_%EB%B6%84%EC%84%9D_%ED%95%98%EA%B8%B0/" class="btn btn-outline-primary"><p>뽐뿌 특가 데이터 분석 하기</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script></div><!-- The Search results v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/tensorflow/">Tensorflow</a> <a class="post-tag" href="/tags/sklearn/">Sklearn</a> <a class="post-tag" href="/tags/round/">Round</a> <a class="post-tag" href="/tags/python-lv0/">Python Lv0</a> <a class="post-tag" href="/tags/pca/">PCA</a> <a class="post-tag" href="/tags/eda/">EDA</a> <a class="post-tag" href="/tags/distinct/">Distinct</a> <a class="post-tag" href="/tags/random-forest/">Random Forest</a> <a class="post-tag" href="/tags/beautifulsoup/">Beautifulsoup</a> <a class="post-tag" href="/tags/baekjoon/">Baekjoon</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <!-- The GA snippet v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <!-- Jekyll Simple Search loader v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://datainclude.me{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
