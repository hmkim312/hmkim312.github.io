<!DOCTYPE html><html lang="ko" mode="light" > <!-- The Head v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>LangChain 기초 튜토리얼 파트1 | Data Include Me</title><meta name="generator" content="Jekyll v3.9.3" /><meta property="og:title" content="LangChain 기초 튜토리얼 파트1" /><meta name="author" content="HyunMin Kim" /><meta property="og:locale" content="ko" /><meta name="description" content="해당 쿡북은 langchain-tutorials-LangChain Cookbook Part 1 - Fundamentals를 한글로 번역한 것이며 LangChain Conceptual Documentation을 기반으로 작성 되었습니다." /><meta property="og:description" content="해당 쿡북은 langchain-tutorials-LangChain Cookbook Part 1 - Fundamentals를 한글로 번역한 것이며 LangChain Conceptual Documentation을 기반으로 작성 되었습니다." /><link rel="canonical" href="https://datainclude.me/posts/LangChain_%EA%B8%B0%EC%B4%88_%ED%8A%9C%ED%86%A0%EB%A6%AC%EC%96%BC_%ED%8C%8C%ED%8A%B81/" /><meta property="og:url" content="https://datainclude.me/posts/LangChain_%EA%B8%B0%EC%B4%88_%ED%8A%9C%ED%86%A0%EB%A6%AC%EC%96%BC_%ED%8C%8C%ED%8A%B81/" /><meta property="og:site_name" content="Data Include Me" /><meta property="og:image" content="https://github.com/hmkim312/hmkim312.github.io/assets/60168331/0ad3d9b9-e090-4df0-ab4a-bb1b62e30175" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-09-05T00:00:00+09:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://github.com/hmkim312/hmkim312.github.io/assets/60168331/0ad3d9b9-e090-4df0-ab4a-bb1b62e30175" /><meta property="twitter:title" content="LangChain 기초 튜토리얼 파트1" /><meta name="twitter:site" content="@" /><meta name="twitter:creator" content="@HyunMin Kim" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"HyunMin Kim"},"dateModified":"2023-09-05T00:00:00+09:00","datePublished":"2023-09-05T00:00:00+09:00","description":"해당 쿡북은 langchain-tutorials-LangChain Cookbook Part 1 - Fundamentals를 한글로 번역한 것이며 LangChain Conceptual Documentation을 기반으로 작성 되었습니다.","headline":"LangChain 기초 튜토리얼 파트1","image":"https://github.com/hmkim312/hmkim312.github.io/assets/60168331/0ad3d9b9-e090-4df0-ab4a-bb1b62e30175","mainEntityOfPage":{"@type":"WebPage","@id":"https://datainclude.me/posts/LangChain_%EA%B8%B0%EC%B4%88_%ED%8A%9C%ED%86%A0%EB%A6%AC%EC%96%BC_%ED%8C%8C%ED%8A%B81/"},"url":"https://datainclude.me/posts/LangChain_%EA%B8%B0%EC%B4%88_%ED%8A%9C%ED%86%A0%EB%A6%AC%EC%96%BC_%ED%8C%8C%ED%8A%B81/"}</script> <!-- The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps Generated by: https://www.favicon-generator.org/ v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT license --><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="36x36" href="/assets/img/favicons/android-icon-36x36.png"><link rel="icon" type="image/png" sizes="48x48" href="/assets/img/favicons/android-icon-48x48.png"><link rel="icon" type="image/png" sizes="72x72" href="/assets/img/favicons/android-icon-72x72.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/android-icon-96x96.png"><link rel="icon" type="image/png" sizes="144x144" href="/assets/img/favicons/android-icon-144x144.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="70x70" href="/assets/img/favicons/ms-icon-70x70.png"><link rel="icon" type="image/png" sizes="144x144" href="/assets/img/favicons/ms-icon-144x144.png"><link rel="icon" type="image/png" sizes="150x150" href="/assets/img/favicons/ms-icon-150x150.png"><link rel="icon" type="image/png" sizes="310x310" href="/assets/img/favicons/ms-icon-310x310.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preload" href="https://www.googletagmanager.com/gtm.js?id=GTM-MW9VRMW9" as="script"> <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= 'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-MW9VRMW9');</script><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="preload" as="style" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous" media="print" onload="this.media='all'"> <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"> </noscript> <!-- CSS selector for site. Chirpy v2.3 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT Licensed --><link rel="preload" as="style" href="/assets/css/post.css"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /><link rel="preload" as="script" href="https://cdn.jsdelivr.net/npm/jquery@3.4.1" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"> <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" async></script> <!-- JS selector for site. Chirpy v2.3 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT Licensed --> <script src="/assets/js/post.min.js" async></script> <script src="/app.js" defer></script><body data-spy="scroll" data-target="#toc"> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MW9VRMW9" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="sidebar" class="d-flex flex-column"> <!-- The Side Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="nav-wrapper"><div id="profile-wrapper" class="d-flex flex-column"><div id="avatar" class="d-flex justify-content-center"> <a href="/" alt="avatar"> <img src="/assets/img/sample/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="profile-text mt-3"><div class="site-title"> <a href="/">Data Include Me</a></div><div class="site-subtitle font-italic">Data Science Blog</div></div></div><ul class="nav flex-column"><li class="nav-item d-flex justify-content-center "> <a href="/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/archives/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/about/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></li></ul></div><div class="sidebar-bottom d-flex flex-wrap justify-content-around mt-4"> <a href="https://github.com/hmkim312" target="_blank"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/" target="_blank"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:window.open('mailto:' + ['sanarial312','gmail.com'].join('@'))" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" > <i class="fas fa-rss"></i> </a></div></div><!-- The Top Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>LangChain 기초 튜토리얼 파트1</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"> <!-- Refactor the HTML structure. --> <!-- Suroundding the markdown table with '<div class="table-wrapper">. and '</div>' --> <!-- Fixed kramdown code highlight rendering: https://github.com/penibelst/jekyll-compress-html/issues/101 https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901 --><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"> <script type="text/javascript"> var lazyloadads = false; function loadAds() { if (!lazyloadads) { var script = document.createElement("script"); script.type = "text/javascript"; script.async = true; script.src = "https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7594406644928408"; document.body.appendChild(script); lazyloadads = true; } } window.addEventListener("mousemove", loadAds, { once: true }); window.addEventListener('touchstart', loadAds, { once: true }); </script><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>LangChain 기초 튜토리얼 파트1</h1><div class="post-meta text-muted d-flex flex-column"><div> Posted <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Tue, Sep 5, 2023, 12:00 AM +0900" > Sep 5, 2023 <i class="unloaded">2023-09-05T00:00:00+09:00</i> </span> by <span class="author"> HyunMin Kim </span></div><a href="https://hits.seeyoufarm.com"> <img src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https://datainclude.me/posts/LangChain_%EA%B8%B0%EC%B4%88_%ED%8A%9C%ED%86%A0%EB%A6%AC%EC%96%BC_%ED%8C%8C%ED%8A%B81/%2F&count_bg=%2379C83D&title_bg=%23555555&icon=&icon_color=%23E7E7E7&title=views&edge_flat=false" alt="페이지 조회수 뱃지", width: 100%;, height: 100%;/> </a></div><div class="post-content"><p><em>해당 쿡북은 <a href="https://github.com/gkamradt/langchain-tutorials/blob/main/LangChain%20Cookbook%20Part%201%20-%20Fundamentals.ipynb" target="_blank">langchain-tutorials-LangChain Cookbook Part 1 - Fundamentals</a>를 한글로 번역한 것이며 <a href="https://docs.langchain.com/docs/" target="_blank">LangChain Conceptual Documentation</a>을 기반으로 작성 되었습니다.</em></p><p><strong>목표:</strong> <a href="https://www.dictionary.com/e/slang/eli5/#:~:text=ELI5%20is%20short%20for%20%E2%80%9CExplain,a%20complicated%20question%20or%20problem." target="_blank">ELI5</a>예제와 코드를 통해 LangChain의 구성 요소와 사용 사례에 대한 기본적인 이해를 제공합니다. 사용 사례는 <a href="https://github.com/gkamradt/langchain-tutorials/blob/main/LangChain%20Cookbook%20Part%202%20-%20Use%20Cases.ipynb" target="_blank">2부</a>에서 확인할 수 있습니다.</p><p><strong>링크:</strong></p><ul><li><a href="https://docs.langchain.com/docs/" target="_blank">LC 개념 문서</a></li><li><a href="https://python.langchain.com/en/latest/" target="_blank">LC 파이썬 문서</a></li><li><a href="https://js.langchain.com/docs/" target="_blank">LC 자바스크립트/타입스크립트 문서</a></li><li><a href="https://discord.gg/6adMQxSpJS" target="_blank">LC 디스코드</a></li><li><a href="https://langchain.com/" target="_blank">www.langchain.com</a></li><li><a href="https://twitter.com/LangChainAI" target="_blank">LC 트위터</a></li></ul><h2 id="1-langchain-이란">1. LangChain 이란?</h2><blockquote><p>LangChain은 언어 모델(LLM) 기반의 애플리케이션을 개발하기 위한 프레임워크입니다.</p></blockquote><p><strong>요약</strong>: LangChain은 AI 모델과 작업 및 구축하는 복잡한 부분을 간단하게 만들어줍니다. 이를 위해 다음 두 가지 방법을 사용합니다:</p><ol><li><strong>통합</strong> - 파일, 애플리케이션, API 데이터와 같은 외부 데이터를 LLM에 가져올 수 있습니다.</li><li><strong>에이전시</strong> - LLM을 통해 다음에 어떤 조치를 취할지 결정하는 데 도움을 줍니다.</li></ol><h2 id="2-왜-langchain인가">2. 왜 LangChain인가?</h2><ol><li><strong>구성 요소</strong> - LangChain은 언어 모델과 함께 작업하기 위해 필요한 추상화와 구성 요소를 쉽게 교체할 수 있게 해줍니다.</li><li><strong>사용자 정의 체인</strong> - LangChain은 ‘체인’ - 연속된 일련의 동작 - 을 사용하고 사용자 정의하는 데 필요한 지원을 제공합니다.</li><li><strong>속도 🚢</strong> - 빠른 업데이트로 최신 LLM 기능을 계속해서 사용할 수 있습니다.</li><li><strong>커뮤니티 👥</strong> - 디스코드와 커뮤니티 지원, 모임, 해커톤 등이 활발합니다.</li></ol><p>LLM은 간단할 수 있지만(텍스트 입력, 텍스트 출력) 더 복잡한 애플리케이션을 개발하면 LangChain이 도와주는 문제점에 부딪힐 것입니다. <em>참고: 이 쿡북은 LangChain의 모든 측면을 다루지 않습니다. 내용은 가능한 빠르게 설계 하는것으로 선별되었습니다. 자세한 내용은 <a href="https://docs.langchain.com/docs/" target="_blank">LangChain 개념 문서</a>를 참조하세요.</em></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c1"># OpenAI API Key - 유출되지 않게 조심해야함
</span><span class="n">openai_api_key</span><span class="o">=</span><span class="s">'YOUR OPENAI API KEY'</span>
</pre></table></code></div></div><p><strong>LangChain 구성 요소</strong></p><h2 id="3-스키마---llm과-작업할-때의-기본-구성-요소">3. 스키마 - LLM과 작업할 때의 기본 구성 요소</h2><h3 id="1-텍스트"><strong>1) 텍스트</strong></h3><p>LLM과 상호 작용하는 자연어 방식LangChain</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c1"># 간단한 문자열로 시작
</span><span class="n">my_text</span> <span class="o">=</span> <span class="s">"금요일 다음은 뭐지?"</span>
</pre></table></code></div></div><h3 id="2-채팅-메세지">2) 채팅 메세지</h3><p>텍스트와 비슷하지만 메시지 유형(시스템, 인간, AI)으로 지정됩니다.</p><ul><li><strong>시스템(SystemMessage)</strong> - AI에게 수행할 작업을 알려주는 유용한 배경 컨텍스트</li><li><strong>사람(HumanMessage)</strong> - 사용자를 나타내기 위한 메시지</li><li><strong>AI(AIMessage)</strong> - AI가 응답한 내용을 보여주는 메시지</li></ul><p>자세한 내용은 OpenAI의 <a href="https://platform.openai.com/docs/guides/chat/introduction" target="_blank">문서</a>를 참조하세요.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">langchain.chat_models</span> <span class="kn">import</span> <span class="n">ChatOpenAI</span>
<span class="kn">from</span> <span class="nn">langchain.schema</span> <span class="kn">import</span> <span class="n">HumanMessage</span><span class="p">,</span> <span class="n">SystemMessage</span><span class="p">,</span> <span class="n">AIMessage</span>

<span class="n">chat</span> <span class="o">=</span> <span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="p">.</span><span class="mi">7</span><span class="p">,</span> <span class="n">openai_api_key</span><span class="o">=</span><span class="n">openai_api_key</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="n">chat</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="n">SystemMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s">"당신은 짧은 문장 하나로 사용자가 무엇을 먹을지 알아내는 데 도움을 주는 AI 봇입니다."</span><span class="p">),</span>
        <span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s">"나는 토마토를 좋아해요. 나는 무엇을 먹을까요?"</span><span class="p">)</span>
    <span class="p">]</span>
<span class="p">)</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>AIMessage(content='당신은 토마토를 좋아하는군요! 그렇다면 토마토를 사용한 요리를 먹어보는 것은 어떨까요? 예를 들어, 토마토 샐러드, 토마토 스파게티, 토마토 스프 등을 고려해볼 수 있습니다. 토마토가 포함된 다양한 요리를 살펴보고, 당신이 먹고 싶은 것을 선택해보세요!', additional_kwargs={}, example=False)
</pre></table></code></div></div><ul><li>AI의 응답으로 더 많은 채팅을 전달할 수도 있습니다.</li></ul><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="n">chat</span><span class="p">(</span>
    <span class="p">[</span>   <span class="c1"># 배경 컨텍스트
</span>        <span class="n">SystemMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s">"당신은 짧은 문장 하나로 사용자가 여행할 곳을 알아내는 데 도움을 주는 AI 봇입니다."</span><span class="p">),</span>
        <span class="c1"># 사람 질문 메세지
</span>        <span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s">"나는 해변을 좋아하는데 어디로 가는게 좋을까요?"</span><span class="p">),</span>
        <span class="c1"># AI 응답 메세지
</span>        <span class="n">AIMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s">"프랑스의 니스가 좋을것 같군요"</span><span class="p">),</span>
        <span class="c1"># 사람 질문 메세지
</span>        <span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s">"거기에 가면 무엇을 하면 좋을까요?"</span><span class="p">)</span>
    <span class="p">]</span>
<span class="p">)</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>AIMessage(content='니스에 가면 해변에서 일광욕을 즐기거나 해변에서 수영을 즐길 수 있습니다. 또한, 프로마나드 데잉슈트(프랑스어로 해변 산책로)를 따라 산책하거나 자전거를 타며 해안 경치를 감상하는 것도 좋은 활동입니다. 또한, 니스의 역사적인 지역인 오래된 마을인 비에유를 방문하여 현지 문화와 건축을 즐길 수도 있습니다.', additional_kwargs={}, example=False)
</pre></table></code></div></div><h3 id="3-문서-documents">3) 문서 (Documents)</h3><ul><li>텍스트와 메타데이터(해당 텍스트에 대한 추가 정보)를 보유하는 개체</li><li>page_content : 문서에 대한 설명</li><li>metadata : 해당 문서에 대한 추가 정보들</li></ul><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">langchain.schema</span> <span class="kn">import</span> <span class="n">Document</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="n">Document</span><span class="p">(</span><span class="n">page_content</span><span class="o">=</span><span class="s">"이것은 나의 문서입니다. 다른 곳에서 수집한 글들로 가득해요"</span><span class="p">,</span>
         <span class="n">metadata</span><span class="o">=</span><span class="p">{</span>
             <span class="s">'my_document_id'</span> <span class="p">:</span> <span class="mi">234234</span><span class="p">,</span>
             <span class="s">'my_document_source'</span> <span class="p">:</span> <span class="s">"LangChain 문서"</span><span class="p">,</span>
             <span class="s">'my_document_create_time'</span> <span class="p">:</span> <span class="mi">1680013019</span>
         <span class="p">})</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>Document(page_content='이것은 나의 문서입니다. 다른 곳에서 수집한 글들로 가득해요', metadata={'my_document_id': 234234, 'my_document_source': 'LangChain 문서', 'my_document_create_time': 1680013019})
</pre></table></code></div></div><h2 id="4-모델---ai-두뇌의-인터페이스">4. 모델 - AI 두뇌의 인터페이스</h2><h3 id="1-언어-모델">1) 언어 모델</h3><p>텍스트 입력 ➡️ 텍스트 출력을 하는 모델!</p><p>기본으로 설정된 모델에서 <code class="language-plaintext highlighter-rouge">gpt-3.5-turbo</code>로 모델을 바꾼 것을 확인해보세요. 더 많은 모델은 <a href="https://platform.openai.com/docs/models" target="_blank">여기</a>에서 확인하세요.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">langchain.llms</span> <span class="kn">import</span> <span class="n">OpenAI</span>

<span class="n">llm</span> <span class="o">=</span> <span class="n">OpenAI</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="s">"gpt-3.5-turbo"</span><span class="p">,</span> <span class="n">openai_api_key</span><span class="o">=</span><span class="n">openai_api_key</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">llm</span><span class="p">(</span><span class="s">"너에 대해서 자세히 설명해줄래"</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>'저는 가상의 AI 개체인 OpenAI Assistant입니다. 사람들의 다양한 질문에 대답하기 위해 프로그래밍 및 인공지능 기술을 사용합니다. 즉, 인간과의 대화를 모방하고 사용자로부터 질문을 받아들이며 그에 따라 최대한 정확하고 유용한 답변을 제공합니다. 사용자가 공식적이고 정확한 정보를 필요로 할 때, 개인적인 상담이나 정보를 요청할 때, 창의적인 문제를 물어볼 때 등 다양한 목적으로 사용될 수 있습니다. 또한, 저는 계속해서 학습을 통해 지식을 갱신하고 발전하는 AI입니다.'
</pre></table></code></div></div><h3 id="2-채팅-모델">2) 채팅 모델</h3><p>메시지를 입력 받아 메시지 출력을 반환하는 모델.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">langchain.chat_models</span> <span class="kn">import</span> <span class="n">ChatOpenAI</span>
<span class="kn">from</span> <span class="nn">langchain.schema</span> <span class="kn">import</span> <span class="n">HumanMessage</span><span class="p">,</span> <span class="n">SystemMessage</span><span class="p">,</span> <span class="n">AIMessage</span>

<span class="n">chat</span> <span class="o">=</span> <span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">openai_api_key</span><span class="o">=</span><span class="n">openai_api_key</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="n">chat</span><span class="p">(</span>
    <span class="p">[</span>   <span class="c1"># 배경 컨텍스트
</span>        <span class="n">SystemMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s">"너는 사용자가 무엇을 말하든 농담을 해서 도움이 되지 않는 AI 봇입니다."</span><span class="p">),</span>
        <span class="c1"># 사람 메세지
</span>        <span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s">"부산에 가고 싶은데 어떻게 해야 하나요?"</span><span class="p">)</span>
    <span class="p">]</span>
<span class="p">)</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>AIMessage(content='비행기로 가면 될까요? 아니면 헬리콥터를 타고 가면 좋을 것 같아요. 물론 저도 걷는 것을 추천해요. 그런데 실제로 가보셨으면 좋겠어요, 저는 여행한 적이 없어요!', additional_kwargs={}, example=False)
</pre></table></code></div></div><h3 id="3-텍스트-임베딩-모델-text-embedding-model">3) 텍스트 임베딩 모델 (Text embedding model)</h3><p>텍스트를 벡터로 변환합니다(텍스트의 의미적-Semantic ‘의미’를 가진 일련의 숫자). 주로 텍스트들을 비교할 때 사용됩니다.</p><p><em>참고: ‘의미적(Semantic)’은 ‘언어나 논리에서의 의미와 관련된’을 의미합니다.</em>###</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">langchain.embeddings</span> <span class="kn">import</span> <span class="n">OpenAIEmbeddings</span>

<span class="n">embeddings</span> <span class="o">=</span> <span class="n">OpenAIEmbeddings</span><span class="p">(</span><span class="n">openai_api_key</span><span class="o">=</span><span class="n">openai_api_key</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">text</span> <span class="o">=</span> <span class="s">"안녕!? 해변에 갈 시간이야!!"</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="n">text_embedding</span> <span class="o">=</span> <span class="n">embeddings</span><span class="p">.</span><span class="n">embed_query</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="k">print</span> <span class="p">(</span><span class="sa">f</span><span class="s">"임베딩 길이: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">text_embedding</span><span class="p">)</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
<span class="k">print</span> <span class="p">(</span><span class="sa">f</span><span class="s">"임베딩 샘플: </span><span class="si">{</span><span class="n">text_embedding</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span><span class="si">}</span><span class="s">..."</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>임베딩 길이: 1536
임베딩 샘플: [0.011675495166686155, -0.0308764886668093, -0.006576743692478846, -0.01785208352692096, -0.028191576851779605]...
</pre></table></code></div></div><h2 id="5-프롬프트-prompt--모델에게-지시를-주기-위해-일반적으로-사용되는-텍스트">5. 프롬프트 (Prompt)- 모델에게 지시를 주기 위해 일반적으로 사용되는 텍스트</h2><h3 id="1-프롬프트">1) 프롬프트</h3><p>모델에 전달할 기본적인 내용</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">langchain.llms</span> <span class="kn">import</span> <span class="n">OpenAI</span>

<span class="n">llm</span> <span class="o">=</span> <span class="n">OpenAI</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="s">"gpt-3.5-turbo"</span><span class="p">,</span> <span class="n">openai_api_key</span><span class="o">=</span><span class="n">openai_api_key</span><span class="p">)</span>

<span class="c1"># 세개의 큰 따옴표를 사용하는것을 읽고 쓰기 쉽기 때문에 선호합니다. 
</span><span class="n">prompt</span> <span class="o">=</span> <span class="s">"""
오늘은 월요일, 내일은 수요일

이 내용에는 어떤 논리적 문제가 있나요?
"""</span>

<span class="n">llm</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>'이 내용에는 논리적 문제가 있습니다. 문장에 언급된 두 날짜가 정확하지 않고 일치하지 않기 때문입니다. 요일의 연속성을 유지하기 위해 내일이 화요일이어야 합니다.'
</pre></table></code></div></div><h3 id="2-프롬프트-템플릿-prompt-template">2) 프롬프트 템플릿 (Prompt Template)</h3><p>사용자 입력처럼 정적인 텍스트가 아닌 정보나 고정된 템플릿 문자열의 조합을 기반으로 프롬프트를 생성하는 객체입니다.</p><p>파이썬의 <a href="https://realpython.com/python-f-strings/" target="_blank">f-string</a>과 비슷합니다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">langchain.llms</span> <span class="kn">import</span> <span class="n">OpenAI</span>
<span class="kn">from</span> <span class="nn">langchain</span> <span class="kn">import</span> <span class="n">PromptTemplate</span>

<span class="n">llm</span> <span class="o">=</span> <span class="n">OpenAI</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="s">"gpt-3.5-turbo"</span><span class="p">,</span> <span class="n">openai_api_key</span><span class="o">=</span><span class="n">openai_api_key</span><span class="p">)</span>

<span class="c1"># "{location}"에 주의하세요, 이것은 나중에 다른 값으로 대체됩니다.
</span><span class="n">template</span> <span class="o">=</span> <span class="s">"""
나는 정말 {location}에 여행 가고 싶어. 어떻게 하면 갈 수 있을까??

짧은 한 문장으로 대답하세요.
"""</span>

<span class="n">prompt</span> <span class="o">=</span> <span class="n">PromptTemplate</span><span class="p">(</span>
    <span class="n">input_variables</span><span class="o">=</span><span class="p">[</span><span class="s">"location"</span><span class="p">],</span>
    <span class="n">template</span><span class="o">=</span><span class="n">template</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">final_prompt</span> <span class="o">=</span> <span class="n">prompt</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="s">"프랑스"</span><span class="p">)</span>

<span class="k">print</span> <span class="p">(</span><span class="sa">f</span><span class="s">"최종 프롬프트: </span><span class="si">{</span><span class="n">final_prompt</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
<span class="k">print</span> <span class="p">(</span><span class="s">"-----------"</span><span class="p">)</span>
<span class="k">print</span> <span class="p">(</span><span class="sa">f</span><span class="s">"LLM 결과물: </span><span class="si">{</span><span class="n">llm</span><span class="p">(</span><span class="n">final_prompt</span><span class="p">)</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>최종 프롬프트: 
나는 정말 프랑스에 여행 가고 싶어. 어떻게 하면 갈 수 있을까??

짧은 한 문장으로 대답하세요.

-----------
LLM 결과물: 비행기 티켓을 예약하세요.
</pre></table></code></div></div><h3 id="3-예제-선택기-example-selector">3) 예제 선택기 (example selector)</h3><p>컨텍스트 정보를 동적으로 프롬프트에 넣을 수 있게 해주는 일련의 예제 중에서 쉽게 선택할 수 있는 방법입니다. 작업이 미묘하거나 큰 예제 목록을 가지고 있을 때 자주 사용됩니다.</p><p>다양한 예제 선택기의 유형을 <a href="https://python.langchain.com/docs/modules/model_io/prompts/example_selectors/" target="_blank">여기</a>에서 확인하세요.</p><p>예제가 중요한 이유(프롬프트 엔지니어링)에 대한 개요를 원하시면 <a href="https://www.youtube.com/watch?v=dOxUroR57xs" target="_blank">이 비디오</a>를 확인하세요.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">langchain.prompts.example_selector</span> <span class="kn">import</span> <span class="n">SemanticSimilarityExampleSelector</span>
<span class="kn">from</span> <span class="nn">langchain.vectorstores</span> <span class="kn">import</span> <span class="n">FAISS</span>
<span class="kn">from</span> <span class="nn">langchain.embeddings</span> <span class="kn">import</span> <span class="n">OpenAIEmbeddings</span>
<span class="kn">from</span> <span class="nn">langchain.prompts</span> <span class="kn">import</span> <span class="n">FewShotPromptTemplate</span><span class="p">,</span> <span class="n">PromptTemplate</span>
<span class="kn">from</span> <span class="nn">langchain.llms</span> <span class="kn">import</span> <span class="n">OpenAI</span>

<span class="n">llm</span> <span class="o">=</span> <span class="n">OpenAI</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="s">"gpt-3.5-turbo"</span><span class="p">,</span> <span class="n">openai_api_key</span><span class="o">=</span><span class="n">openai_api_key</span><span class="p">)</span>

<span class="n">example_prompt</span> <span class="o">=</span> <span class="n">PromptTemplate</span><span class="p">(</span>
    <span class="n">input_variables</span><span class="o">=</span><span class="p">[</span><span class="s">"input"</span><span class="p">,</span> <span class="s">"output"</span><span class="p">],</span>
    <span class="n">template</span><span class="o">=</span><span class="s">"샘플 입력: {input}</span><span class="se">\n</span><span class="s">샘플 출력: {output}"</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># 입출력 예시
</span><span class="n">examples</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s">"input"</span><span class="p">:</span> <span class="s">"선원"</span><span class="p">,</span> <span class="s">"output"</span><span class="p">:</span> <span class="s">"배"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"input"</span><span class="p">:</span> <span class="s">"파일럿"</span><span class="p">,</span> <span class="s">"output"</span><span class="p">:</span> <span class="s">"비행기"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"input"</span><span class="p">:</span> <span class="s">"운전수"</span><span class="p">,</span> <span class="s">"output"</span><span class="p">:</span> <span class="s">"자동차"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"input"</span><span class="p">:</span> <span class="s">"나무"</span><span class="p">,</span> <span class="s">"output"</span><span class="p">:</span> <span class="s">"땅"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"input"</span><span class="p">:</span> <span class="s">"새"</span><span class="p">,</span> <span class="s">"output"</span><span class="p">:</span> <span class="s">"둥지"</span><span class="p">},</span>
<span class="p">]</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="c1"># SemanticSimilarityExampleSelector는 의미론적 의미로 입력과 유사한 예시를 선택합니다.
</span><span class="n">example_selector</span> <span class="o">=</span> <span class="n">SemanticSimilarityExampleSelector</span><span class="p">.</span><span class="n">from_examples</span><span class="p">(</span>
    <span class="c1"># 선택할 수 있는 예시의 목록입니다.
</span>    <span class="n">examples</span><span class="p">,</span> 
    
   <span class="c1"># 의미론적 유사성을 측정하기 위해 사용되는 임베딩을 생성하는 데 사용되는 임베딩 클래스입니다.
</span>    <span class="n">OpenAIEmbeddings</span><span class="p">(</span><span class="n">openai_api_key</span><span class="o">=</span><span class="n">openai_api_key</span><span class="p">),</span> 
    
    <span class="c1"># 이것은 임베딩을 저장하고 유사성 검색을 수행하는 데 사용되는 VectorStore 클래스입니다.
</span>    <span class="n">FAISS</span><span class="p">,</span> 
    
    <span class="c1"># 생성할 예시의 수입니다.
</span>    <span class="n">k</span><span class="o">=</span><span class="mi">2</span>
<span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="n">similar_prompt</span> <span class="o">=</span> <span class="n">FewShotPromptTemplate</span><span class="p">(</span>
    <span class="c1"># 예제를 선택하는 데 도움이 될 객체
</span>    <span class="n">example_selector</span><span class="o">=</span><span class="n">example_selector</span><span class="p">,</span>
    
    <span class="c1"># 프롬프트
</span>    <span class="n">example_prompt</span><span class="o">=</span><span class="n">example_prompt</span><span class="p">,</span>
    
    <span class="c1"># 프롬프트의 상단과 하단에 추가될 맞춤 설정
</span>    <span class="n">prefix</span><span class="o">=</span><span class="s">"아이템이 보통 어디에서 발견되는지 알려주세요."</span><span class="p">,</span>
    <span class="n">suffix</span><span class="o">=</span><span class="s">"Input: {noun}</span><span class="se">\n</span><span class="s">Output:"</span><span class="p">,</span>
    
    <span class="c1"># 프롬프트가 받을 입력 내용
</span>    <span class="n">input_variables</span><span class="o">=</span><span class="p">[</span><span class="s">"noun"</span><span class="p">],</span>
<span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="c1"># 명사 입력!
</span><span class="n">my_noun</span> <span class="o">=</span> <span class="s">"학생"</span>

<span class="k">print</span><span class="p">(</span><span class="n">similar_prompt</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">noun</span><span class="o">=</span><span class="n">my_noun</span><span class="p">))</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre>아이템이 보통 어디에서 발견되는지 알려주세요.

샘플 입력: 나무
샘플 출력: 땅

샘플 입력: 새
샘플 출력: 둥지

Input: 학생
Output:
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">llm</span><span class="p">(</span><span class="n">similar_prompt</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">noun</span><span class="o">=</span><span class="n">my_noun</span><span class="p">))</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>'학교'
</pre></table></code></div></div><h3 id="4-출력-파서output-parsers">4) 출력 파서(Output Parsers)</h3><p>모델의 출력을 형식화하는 유용한 방법입니다. 주로 구조화된 출력에 사용됩니다.</p><p>두 가지 주요 개념:</p><p><strong>A. 형식 지시문 (Format Instructions)</strong> - 원하는 결과를 기반으로 LLM에게 응답의 형식을 어떻게 할지 알려주는 자동 생성된 프롬프트</p><p><strong>B. 파서 (Parser)</strong> - 모델의 텍스트 출력을 원하는 구조(보통 json)로 추출하는 방법</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">langchain.output_parsers</span> <span class="kn">import</span> <span class="n">StructuredOutputParser</span><span class="p">,</span> <span class="n">ResponseSchema</span>
<span class="kn">from</span> <span class="nn">langchain.prompts</span> <span class="kn">import</span> <span class="n">ChatPromptTemplate</span><span class="p">,</span> <span class="n">HumanMessagePromptTemplate</span>
<span class="kn">from</span> <span class="nn">langchain.llms</span> <span class="kn">import</span> <span class="n">OpenAI</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">llm</span> <span class="o">=</span> <span class="n">OpenAI</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="s">"gpt-3.5-turbo"</span><span class="p">,</span> <span class="n">openai_api_key</span><span class="o">=</span><span class="n">openai_api_key</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="c1"># 응답을 어떻게 구조화하길 원하는지에 대한 가벼운 기본 프롬프트 템플릿입니다.
</span><span class="n">response_schemas</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">ResponseSchema</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">"bad_string"</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s">"이것은 잘못 포맷된 사용자 입력 문자열입니다."</span><span class="p">),</span>
    <span class="n">ResponseSchema</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">"good_string"</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s">"이것은 당신의 응답, 재구성된 응답입니다."</span><span class="p">)</span>
<span class="p">]</span>

<span class="c1"># 출력을 어떻게 파싱하길 원하는지.
</span><span class="n">output_parser</span> <span class="o">=</span> <span class="n">StructuredOutputParser</span><span class="p">.</span><span class="n">from_response_schemas</span><span class="p">(</span><span class="n">response_schemas</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="c1"># 출력 파서 프롬프로 템플릿 확인
</span><span class="n">format_instructions</span> <span class="o">=</span> <span class="n">output_parser</span><span class="p">.</span><span class="n">get_format_instructions</span><span class="p">()</span>
<span class="k">print</span> <span class="p">(</span><span class="n">format_instructions</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>The output should be a markdown code snippet formatted in the following schema, including the leading and trailing "```json" and "```":

```json
{
	"bad_string": string  // 이것은 잘못 포맷된 사용자 입력 문자열입니다.
	"good_string": string  // 이것은 당신의 응답, 재구성된 응답입니다.
}
```
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="n">template</span> <span class="o">=</span> <span class="s">"""
사용자로부터 잘못 작성된 문자열을 받게 될 것입니다.
다시 작성하고 모든 단어의 철자가 올바른지 확인하세요.

{format_instructions}

% 사용자 입력:
{user_input}

% 응답:
"""</span>

<span class="n">prompt</span> <span class="o">=</span> <span class="n">PromptTemplate</span><span class="p">(</span>
    <span class="n">input_variables</span><span class="o">=</span><span class="p">[</span><span class="s">"user_input"</span><span class="p">],</span>
    <span class="n">partial_variables</span><span class="o">=</span><span class="p">{</span><span class="s">"format_instructions"</span><span class="p">:</span> <span class="n">format_instructions</span><span class="p">},</span>
    <span class="n">template</span><span class="o">=</span><span class="n">template</span>
<span class="p">)</span>

<span class="n">promptValue</span> <span class="o">=</span> <span class="n">prompt</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">user_input</span><span class="o">=</span><span class="s">"한극에 오신것을 환영합니다."</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">promptValue</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre>사용자로부터 잘못 작성된 문자열을 받게 될 것입니다.
다시 작성하고 모든 단어의 철자가 올바른지 확인하세요.

The output should be a markdown code snippet formatted in the following schema, including the leading and trailing "```json" and "```":

```json
{
	"bad_string": string  // 이것은 잘못 포맷된 사용자 입력 문자열입니다.
	"good_string": string  // 이것은 당신의 응답, 재구성된 응답입니다.
}
```

% 사용자 입력:
한극에 오신것을 환영합니다.

% 응답:
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">llm_output</span> <span class="o">=</span> <span class="n">llm</span><span class="p">(</span><span class="n">promptValue</span><span class="p">)</span>
<span class="n">llm_output</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>'```json\n{\n\t"bad_string": "한극에 오신것을 환영합니다.",\n\t"good_string": "한국에 오신 것을 환영합니다."\n}\n```'
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">output_parser</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="n">llm_output</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>{'bad_string': '한극에 오신것을 환영합니다.', 'good_string': '한국에 오신 것을 환영합니다.'}
</pre></table></code></div></div><h2 id="6-색인index---llm이-처리할-수-있도록-문서-구조화하기">6. 색인(Index) - LLM이 처리할 수 있도록 문서 구조화하기</h2><h3 id="1-문서-로더document-loaders">1) 문서 로더(Document Loaders)</h3><p>다른 소스에서 데이터를 가져오는 쉬운 방법들입니다. <a href="https://openai.com/blog/chatgpt-plugins" target="_blank">OpenAI 플러그인</a> <a href="https://github.com/openai/chatgpt-retrieval-plugin" target="_blank">특히 검색 플러그인</a>과 공유 기능을 가지고 있습니다.</p><p>여기에 문서 로더의 <a href="https://python.langchain.com/en/latest/modules/indexes/document_loaders.html" target="_blank">큰 목록</a>을 확인하세요. <a href="https://llamahub.ai/" target="_blank">Llama Index</a>에도 많은 정보가 있습니다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">langchain.document_loaders</span> <span class="kn">import</span> <span class="n">HNLoader</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">loader</span> <span class="o">=</span> <span class="n">HNLoader</span><span class="p">(</span><span class="s">"https://news.ycombinator.com/item?id=34422627"</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">data</span> <span class="o">=</span> <span class="n">loader</span><span class="p">.</span><span class="n">load</span><span class="p">()</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">print</span> <span class="p">(</span><span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="si">}</span><span class="s">개의 댓글"</span><span class="p">)</span>
<span class="k">print</span> <span class="p">(</span><span class="sa">f</span><span class="s">"샘플:</span><span class="se">\n\n</span><span class="si">{</span><span class="s">''</span><span class="p">.</span><span class="n">join</span><span class="p">([</span><span class="n">x</span><span class="p">.</span><span class="n">page_content</span><span class="p">[:</span><span class="mi">150</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[:</span><span class="mi">2</span><span class="p">]])</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre>76개의 댓글
샘플:

Ozzie_osman 7 months ago  
             | next [–] 

LangChain is awesome. For people not sure what it's doing, large language models (LLMs) are very Ozzie_osman 7 months ago  
             | parent | next [–] 

Also, another library to check out is GPT Index (https://github.com/jerryjliu/gpt_index)
</pre></table></code></div></div><h3 id="2-텍스트-분할기text-splitters">2) 텍스트 분할기(Text Splitters)</h3><p>대부분의 경우 문서가 LLM에게 너무 길다고 느껴질 수 있습니다(예컨대 책 같은 경우). 이럴 때 텍스트를 여러 부분으로 나눠야 합니다. 이때 텍스트 분할기가 도움이 됩니다.</p><p>텍스트를 여러 조각으로 나누는 여러 가지 방법이 있습니다. 어떤 것이 가장 적합한지 알아보기 위해 <a href="https://python.langchain.com/en/latest/modules/indexes/text_splitters.html" target="_blank">다양한 방법</a>을 실험해보세요.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">langchain.text_splitter</span> <span class="kn">import</span> <span class="n">RecursiveCharacterTextSplitter</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://raw.githubusercontent.com/hmkim312/datas/main/Langchain/worked.txt"</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">pg_work</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">text</span>
<span class="k">print</span> <span class="p">(</span><span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="nb">len</span><span class="p">([</span><span class="n">pg_work</span><span class="p">])</span><span class="si">}</span><span class="s">개의 문서"</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>1개의 문서
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="n">text_splitter</span> <span class="o">=</span> <span class="n">RecursiveCharacterTextSplitter</span><span class="p">(</span>
    <span class="c1"># 보여주기 위해 작은 크기로 설정합니다.
</span>    <span class="n">chunk_size</span> <span class="o">=</span> <span class="mi">150</span><span class="p">,</span>
    <span class="n">chunk_overlap</span>  <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">texts</span> <span class="o">=</span> <span class="n">text_splitter</span><span class="p">.</span><span class="n">create_documents</span><span class="p">([</span><span class="n">pg_work</span><span class="p">])</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">print</span> <span class="p">(</span><span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">texts</span><span class="p">)</span><span class="si">}</span><span class="s">개의 문서"</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>614개의 문서
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">print</span> <span class="p">(</span><span class="s">"미리보기:"</span><span class="p">)</span>
<span class="k">print</span> <span class="p">(</span><span class="n">texts</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">page_content</span><span class="p">,</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
<span class="k">print</span> <span class="p">(</span><span class="n">texts</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">page_content</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>미리보기:
February 2021Before college the two main things I worked on, outside of school,
were writing and programming. I didn't write essays. I wrote what 

beginning writers were supposed to write then, and probably still
are: short stories. My stories were awful. They had hardly any plot,
</pre></table></code></div></div><h3 id="3-검색기-retrievers">3) 검색기 (Retrievers)</h3><p>문서를 언어 모델과 쉽게 결합하는 방법으로 검색기에는 여러 종류가 있으며, 가장 널리 지원되는 것은 VectoreStoreRetriever입니다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://raw.githubusercontent.com/hmkim312/datas/main/Langchain/disc.txt"</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="c1"># 파일을 저장하기
</span><span class="n">file_name</span> <span class="o">=</span> <span class="s">"disc.txt"</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s">'w'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">"utf-8"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">langchain.document_loaders</span> <span class="kn">import</span> <span class="n">TextLoader</span>
<span class="kn">from</span> <span class="nn">langchain.text_splitter</span> <span class="kn">import</span> <span class="n">RecursiveCharacterTextSplitter</span>
<span class="kn">from</span> <span class="nn">langchain.vectorstores</span> <span class="kn">import</span> <span class="n">FAISS</span>
<span class="kn">from</span> <span class="nn">langchain.embeddings</span> <span class="kn">import</span> <span class="n">OpenAIEmbeddings</span>

<span class="n">loader</span> <span class="o">=</span> <span class="n">TextLoader</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>
<span class="n">documents</span> <span class="o">=</span> <span class="n">loader</span><span class="p">.</span><span class="n">load</span><span class="p">()</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="c1"># 분할기 준비
</span><span class="n">text_splitter</span> <span class="o">=</span> <span class="n">RecursiveCharacterTextSplitter</span><span class="p">(</span><span class="n">chunk_size</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">chunk_overlap</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>

<span class="c1"># 문서 분할
</span><span class="n">texts</span> <span class="o">=</span> <span class="n">text_splitter</span><span class="p">.</span><span class="n">split_documents</span><span class="p">(</span><span class="n">documents</span><span class="p">)</span>

<span class="c1"># 임베딩 준비
</span><span class="n">embeddings</span> <span class="o">=</span> <span class="n">OpenAIEmbeddings</span><span class="p">(</span><span class="n">openai_api_key</span><span class="o">=</span><span class="n">openai_api_key</span><span class="p">)</span>

<span class="c1"># 텍스트 임베딩
</span><span class="n">db</span> <span class="o">=</span> <span class="n">FAISS</span><span class="p">.</span><span class="n">from_documents</span><span class="p">(</span><span class="n">texts</span><span class="p">,</span> <span class="n">embeddings</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c1"># 검색기를 초기화하세요. 단지 1개의 문서만 반환하도록 요청하세요.
</span><span class="n">retriever</span> <span class="o">=</span> <span class="n">db</span><span class="p">.</span><span class="n">as_retriever</span><span class="p">()</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">retriever</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>VectorStoreRetriever(tags=['FAISS'], metadata=None, vectorstore=&lt;langchain.vectorstores.faiss.FAISS object at 0x7f2c31bf5b70&gt;, search_type='similarity', search_kwargs={})
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">docs</span> <span class="o">=</span> <span class="n">retriever</span><span class="p">.</span><span class="n">get_relevant_documents</span><span class="p">(</span><span class="s">"저자는 어떤 종류의 것들을 만들고 싶었나요?"</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="se">\n\n</span><span class="s">"</span><span class="p">.</span><span class="n">join</span><span class="p">([</span><span class="n">x</span><span class="p">.</span><span class="n">page_content</span><span class="p">[:</span><span class="mi">200</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">docs</span><span class="p">[:</span><span class="mi">2</span><span class="p">]]))</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>January 2017Because biographies of famous scientists tend to 
edit out their mistakes, we underestimate the 
degree of risk they were willing to take.
And because anything a famous scientist did that


seemed roughly equally promising. No one knew yet
what the payoff would be for inventing what we
now call physics; if they had, more people would 
have been working on it. And alchemy and theology
wer
</pre></table></code></div></div><h3 id="4-vectorstores">4) VectorStores</h3><p>벡터를 저장하기 위한 데이터베이스입니다. 가장 인기 있는 것들은 <a href="https://www.pinecone.io/" target="_blank">Pinecone</a>와 <a href="https://weaviate.io/" target="_blank">Weaviate</a>입니다. OpenAI의 <a href="https://github.com/openai/chatgpt-retrieval-plugin#choosing-a-vector-database" target="_blank">검색기 문서</a>에서 더 많은 예시를 확인할 수 있습니다. <a href="https://www.trychroma.com/" target="_blank">Chroma</a>와 <a href="https://engineering.fb.com/2017/03/29/data-infrastructure/faiss-a-library-for-efficient-similarity-search/" target="_blank">FAISS</a>는 로컬에서 쉽게 작업할 수 있습니다.</p><p>개념적으로, 임베딩(벡터)을 위한 열과 메타데이터를 위한 열이 있는 테이블로 생각하십시오.</p><p><em>예시</em></p><div class="table-wrapper"><table><thead><tr><th>임베딩(Embedding)<th>메타데이터(Metadata)<tbody><tr><td>[-0.00015641732898075134, -0.003165106289088726, …]<td>{‘date’ : ‘1/2/23}<tr><td>[-0.00035465431654651654, 1.4654131651654516546, …]<td>{‘date’ : ‘1/3/23}</table></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://github.com/hmkim312/datas/blob/main/Langchain/worked.txt"</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="c1"># 파일을 저장하기
</span><span class="n">file_name</span> <span class="o">=</span> <span class="s">"worked.txt"</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s">'w'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">"utf-8"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">langchain.document_loaders</span> <span class="kn">import</span> <span class="n">TextLoader</span>
<span class="kn">from</span> <span class="nn">langchain.text_splitter</span> <span class="kn">import</span> <span class="n">RecursiveCharacterTextSplitter</span>
<span class="kn">from</span> <span class="nn">langchain.vectorstores</span> <span class="kn">import</span> <span class="n">FAISS</span>
<span class="kn">from</span> <span class="nn">langchain.embeddings</span> <span class="kn">import</span> <span class="n">OpenAIEmbeddings</span>

<span class="n">loader</span> <span class="o">=</span> <span class="n">TextLoader</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>
<span class="n">documents</span> <span class="o">=</span> <span class="n">loader</span><span class="p">.</span><span class="n">load</span><span class="p">()</span>

<span class="c1"># 분할기 준비
</span><span class="n">text_splitter</span> <span class="o">=</span> <span class="n">RecursiveCharacterTextSplitter</span><span class="p">(</span><span class="n">chunk_size</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">chunk_overlap</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>

<span class="c1"># 텍스트 분할
</span><span class="n">texts</span> <span class="o">=</span> <span class="n">text_splitter</span><span class="p">.</span><span class="n">split_documents</span><span class="p">(</span><span class="n">documents</span><span class="p">)</span>

<span class="c1"># 임베딩 준비
</span><span class="n">embeddings</span> <span class="o">=</span> <span class="n">OpenAIEmbeddings</span><span class="p">(</span><span class="n">openai_api_key</span><span class="o">=</span><span class="n">openai_api_key</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">print</span> <span class="p">(</span><span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">texts</span><span class="p">)</span><span class="si">}</span><span class="s">개의 문서"</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>98개의 문서
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">embedding_list</span> <span class="o">=</span> <span class="n">embeddings</span><span class="p">.</span><span class="n">embed_documents</span><span class="p">([</span><span class="n">text</span><span class="p">.</span><span class="n">page_content</span> <span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">texts</span><span class="p">])</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">print</span> <span class="p">(</span><span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">embedding_list</span><span class="p">)</span><span class="si">}</span><span class="s">개의 임베딩"</span><span class="p">)</span>
<span class="k">print</span> <span class="p">(</span><span class="sa">f</span><span class="s">"샘플: </span><span class="si">{</span><span class="n">embedding_list</span><span class="p">[</span><span class="mi">0</span><span class="p">][:</span><span class="mi">3</span><span class="p">]</span><span class="si">}</span><span class="s">..."</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>98개의 임베딩
샘플: [-0.01545365036202117, 0.012095730552875413, 0.0013115743425161806]...
</pre></table></code></div></div><p>벡터스토어는 임베딩을 저장하고 쉽게 검색할 수 있게 만듭니다.</p><h2 id="7-메모리">7. 메모리</h2><p>LLM에 정보를 기억하게 도와줍니다.</p><p>메모리는 약간 모호한 용어입니다. 과거에 대화한 정보를 간단하게 기억하는 것에서부터 더 복잡한 정보 검색까지 다양할 수 있습니다.</p><p>여기서는 채팅 메시지 사용 사례를 중심으로 설명하겠습니다. 이것은 채팅 봇에 사용됩니다.</p><p>많은 종류의 메모리가 있습니다. <a href="https://python.langchain.com/en/latest/modules/memory/how_to_guides.html" target="_blank">문서</a>를 탐색하여 당신의 사용 사례에 어느 것이 가장 적합한지 확인해 보세요.</p><h3 id="1-채팅-메세지-기록">1) 채팅 메세지 기록</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">langchain.memory</span> <span class="kn">import</span> <span class="n">ChatMessageHistory</span>
<span class="kn">from</span> <span class="nn">langchain.chat_models</span> <span class="kn">import</span> <span class="n">ChatOpenAI</span>

<span class="n">chat</span> <span class="o">=</span> <span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">openai_api_key</span><span class="o">=</span><span class="n">openai_api_key</span><span class="p">)</span>

<span class="n">history</span> <span class="o">=</span> <span class="n">ChatMessageHistory</span><span class="p">()</span>

<span class="n">history</span><span class="p">.</span><span class="n">add_ai_message</span><span class="p">(</span><span class="s">"안녕!"</span><span class="p">)</span>

<span class="n">history</span><span class="p">.</span><span class="n">add_user_message</span><span class="p">(</span><span class="s">"한국의 수도는 어디야?"</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">history</span><span class="p">.</span><span class="n">messages</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>[AIMessage(content='안녕!', additional_kwargs={}, example=False),
 HumanMessage(content='한국의 수도는 어디야?', additional_kwargs={}, example=False)]
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">ai_response</span> <span class="o">=</span> <span class="n">chat</span><span class="p">(</span><span class="n">history</span><span class="p">.</span><span class="n">messages</span><span class="p">)</span>
<span class="n">ai_response</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>AIMessage(content='한국의 수도는 서울이야.', additional_kwargs={}, example=False)
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">history</span><span class="p">.</span><span class="n">add_ai_message</span><span class="p">(</span><span class="n">ai_response</span><span class="p">.</span><span class="n">content</span><span class="p">)</span>
<span class="n">history</span><span class="p">.</span><span class="n">messages</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>[AIMessage(content='안녕!', additional_kwargs={}, example=False),
 HumanMessage(content='한국의 수도는 어디야?', additional_kwargs={}, example=False),
 AIMessage(content='한국의 수도는 서울이야.', additional_kwargs={}, example=False)]
</pre></table></code></div></div><h2 id="8-체인chains">8. 체인(Chains)</h2><p>다양한 LLM 호출과 자동으로 수행되는 동작을 결합합니다.</p><p>예: 요약 #1, 요약 #2, 요약 #3 &gt; 최종 요약</p><p>다양한 요약 체인 유형에 대한 설명을 위한 <a href="https://www.youtube.com/watch?v=f9_BWhCI4Zo&amp;t=2s" target="_blank">이 비디오</a>를 확인해보세요.</p><p>체인의 <a href="https://python.langchain.com/en/latest/modules/chains/how_to_guides.html" target="_blank">많은 응용 프로그램들</a>이 있으므로, 당신의 사용 사례에 가장 적합한 것을 찾아보세요.</p><p>우리는 그 중 두 가지를 다룰 것입니다:</p><h3 id="1-단순-순차-체인-simple-sequential-chains">1). 단순 순차 체인 (Simple Sequential Chains)</h3><p>LLM의 출력을 다른 것의 입력으로 사용할 수 있는 간단한 체인입니다. 작업을 나누는 데 유용하며(그리고 LLM을 집중시키는 데 도움이 됩니다)</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">langchain.llms</span> <span class="kn">import</span> <span class="n">OpenAI</span>
<span class="kn">from</span> <span class="nn">langchain.chains</span> <span class="kn">import</span> <span class="n">LLMChain</span>
<span class="kn">from</span> <span class="nn">langchain.prompts</span> <span class="kn">import</span> <span class="n">PromptTemplate</span>
<span class="kn">from</span> <span class="nn">langchain.chains</span> <span class="kn">import</span> <span class="n">SimpleSequentialChain</span>

<span class="n">llm</span> <span class="o">=</span> <span class="n">OpenAI</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">openai_api_key</span><span class="o">=</span><span class="n">openai_api_key</span><span class="p">,</span> <span class="n">max_tokens</span><span class="o">=</span><span class="mi">1048</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="n">template</span> <span class="o">=</span> <span class="s">"""당신은 사용자가 제안하는 지역의 전통적인 요리를 제안합니다..
% 사용자 위치
{user_location}

% 응답:
"""</span>
<span class="n">prompt_template</span> <span class="o">=</span> <span class="n">PromptTemplate</span><span class="p">(</span><span class="n">input_variables</span><span class="o">=</span><span class="p">[</span><span class="s">"user_location"</span><span class="p">],</span> <span class="n">template</span><span class="o">=</span><span class="n">template</span><span class="p">)</span>

<span class="c1"># 지역
</span><span class="n">location_chain</span> <span class="o">=</span> <span class="n">LLMChain</span><span class="p">(</span><span class="n">llm</span><span class="o">=</span><span class="n">llm</span><span class="p">,</span> <span class="n">prompt</span><span class="o">=</span><span class="n">prompt_template</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="n">template</span> <span class="o">=</span> <span class="s">"""음식을 주면 집에서 어떻게 만드는지 간단하고 쉬운 레시피를 제공하세요.
% 음식
{user_meal}

% 응답:
"""</span>
<span class="n">prompt_template</span> <span class="o">=</span> <span class="n">PromptTemplate</span><span class="p">(</span><span class="n">input_variables</span><span class="o">=</span><span class="p">[</span><span class="s">"user_meal"</span><span class="p">],</span> <span class="n">template</span><span class="o">=</span><span class="n">template</span><span class="p">)</span>

<span class="c1"># 음식
</span><span class="n">meal_chain</span> <span class="o">=</span> <span class="n">LLMChain</span><span class="p">(</span><span class="n">llm</span><span class="o">=</span><span class="n">llm</span><span class="p">,</span> <span class="n">prompt</span><span class="o">=</span><span class="n">prompt_template</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">overall_chain</span> <span class="o">=</span> <span class="n">SimpleSequentialChain</span><span class="p">(</span><span class="n">chains</span><span class="o">=</span><span class="p">[</span><span class="n">location_chain</span><span class="p">,</span> <span class="n">meal_chain</span><span class="p">],</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">review</span> <span class="o">=</span> <span class="n">overall_chain</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s">"rome"</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre><td class="rouge-code"><pre>[1m&gt; Entering new SimpleSequentialChain chain...[0m
[36;1m[1;3m로마의 전통적인 요리로는 피자가 대표적으로 있습니다. 로마의 피자는 "로마 피자"라고도 불리며, 토마토피클, 모짜렐라 치즈, 허브, 오일, 로메인 양념 그리고 블랙 올리브가 주로 사용됩니다. 또한 "감튀까르보나라"(Gnocchi alla Romana)라고 불리는 주방 재료로 감자와 같은 식료품을 사용하여 만든 요리도 유명합니다. 또한 "그라탕"(Carbonara)과 "카레라 비냐"(Cacio e Pepe)도 로마의 특색 있는 요리입니다.[0m
[33;1m[1;3m로마의 피자를 만드는 방법

필요한 재료: 
- 크기 작은 피자 도우 
- 토마토피클
- 베이컨 알갱이
- 모짜렐라 치즈
- 허브
- 올리브
- 오일
- 로메인 양념
- 미리 까기한 블랙 올리브

만드는 방법:

1. 먼저 피자 도우를 불리고 다양한 재료를 준비합니다.

2. 다이어트 오일로 납작하게 바텀을 돌려 오일을 뿌려주고 토마토 피클을 뿌립니다.

3. 다양한 재료를 배열해 줍니다. 먼저 베이컨 알갱이이며 그 다음에 모짜렐라 치즈, 허브, 올리브, 로메인 양념을 올려줍니다.

4. 마지막으로 블랙 올리브를 상단에 가볍게 뿌려 줍니다.

5. 그리고 구운다고 따로 설정해 놓은 오븐에 넣어 충분히 구워 내줍니다. 

6. 열대 모든 재료가 상호 작용하여 맛있게 구워지면 로마 피자가 만들어집니다.[0m

[1m&gt; Finished chain.[0m
</pre></table></code></div></div><h3 id="2-요약-체인-summarization-chain">2) 요약 체인 (Summarization Chain)</h3><p>긴 여러 문서를 쉽게 훑어볼 수 있고 요약을 얻을 수 있습니다. 맵-리듀스 외의 다른 체인 유형에 대해서는 <a href="https://www.youtube.com/watch?v=f9_BWhCI4Zo" target="_blank">이 비디오</a>를 확인해보세요.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://raw.githubusercontent.com/hmkim312/datas/main/Langchain/disc_ko.txt"</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="c1"># 파일을 저장하기
</span><span class="n">file_name</span> <span class="o">=</span> <span class="s">"disc_ko.txt"</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s">'w'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">"utf-8"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">langchain.chains.summarize</span> <span class="kn">import</span> <span class="n">load_summarize_chain</span>
<span class="kn">from</span> <span class="nn">langchain.document_loaders</span> <span class="kn">import</span> <span class="n">TextLoader</span>
<span class="kn">from</span> <span class="nn">langchain.text_splitter</span> <span class="kn">import</span> <span class="n">RecursiveCharacterTextSplitter</span>

<span class="n">loader</span> <span class="o">=</span> <span class="n">TextLoader</span><span class="p">(</span><span class="s">'disc_ko.txt'</span><span class="p">)</span>
<span class="n">documents</span> <span class="o">=</span> <span class="n">loader</span><span class="p">.</span><span class="n">load</span><span class="p">()</span>

<span class="c1"># 분할기 준비
</span><span class="n">text_splitter</span> <span class="o">=</span> <span class="n">RecursiveCharacterTextSplitter</span><span class="p">(</span><span class="n">chunk_size</span><span class="o">=</span><span class="mi">700</span><span class="p">,</span> <span class="n">chunk_overlap</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>

<span class="c1"># 분할
</span><span class="n">texts</span> <span class="o">=</span> <span class="n">text_splitter</span><span class="p">.</span><span class="n">split_documents</span><span class="p">(</span><span class="n">documents</span><span class="p">)</span>

<span class="n">chain</span> <span class="o">=</span> <span class="n">load_summarize_chain</span><span class="p">(</span><span class="n">llm</span><span class="p">,</span> <span class="n">chain_type</span><span class="o">=</span><span class="s">"map_reduce"</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">chain</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">texts</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
</pre><td class="rouge-code"><pre>[1m&gt; Entering new MapReduceDocumentsChain chain...[0m


[1m&gt; Entering new LLMChain chain...[0m
Prompt after formatting:
[32;1m[1;3mWrite a concise summary of the following:


"**인공지능과 인간의 희망적 동반**

우리 시대는 인공지능(AI)과 인간이 함께 발전하며 서로 보완적인 관계를 형성하는 시대로 불린다. 과거에는 기술적 발전이 사람의 일자리를 위협하는 것으로만 여겨졌다. 그러나 지금은 AI가 인간의 삶의 질을 향상시키는 데 기여하며, 우리의 일상생활에서 많은 도움을 주고 있다. 

무엇보다, AI는 우리가 접근하기 어려웠던 많은 지식과 정보를 우리 손안에 가져다준다. 의료, 교육, 연구 등 다양한 분야에서 AI는 맞춤화된 정보와 솔루션을 제공하며, 이를 통해 사람들은 더 나은 결정을 내리고 효율적인 생활을 이끌어 낸다. 우리의 지능과 AI의 능력이 융합됨으로써, 인류는 전례 없는 혁신적인 발견과 변화의 시대를 맞이하게 된다.

더불어, 인공지능은 인간의 창조력과 감성, 그리고 경험을 강조하게 만든다. AI가 단순 반복적인 업무나 데이터 분석 등의 작업을 담당함으로써, 인간은 더 깊이 있는 창조적인 활동에 몰두할 수 있게 되었다. 이런 관계 속에서 인간과 기술은 더욱 가까워지며, 그 결과로 더 풍요로운 미래를 상상하게 된다."


CONCISE SUMMARY:[0m

[1m&gt; Finished chain.[0m


[1m&gt; Entering new LLMChain chain...[0m
Prompt after formatting:
[32;1m[1;3mWrite a concise summary of the following:


" 우리 시대는 인공지능과 인간이 서로 보완하며 함께 발전하는 관계로 발전하고 있으며, AI가 인간들의 일상 생활을 향상시키고 다양한 분야의 영역에서 맞춤화된 정보와 솔루션을 제공하고 있다. AI는 또한 창조적인 활동을 증진시키며, 전례 없는 혁신적 변화로 희망적인 미래를 열고 있다."


CONCISE SUMMARY:[0m

[1m&gt; Finished chain.[0m

[1m&gt; Finished chain.[0m





' 인공지능과 인간이 서로 보완하며 함께 발전하는 관계로 발전하고 있는 우리 시대에서 AI는 인간들의 생활을 개선하고 맞춤화된 정보와 솔루션을 제공하며, 창조적인 활동을 보장하고 있으며, 혁신적 변화로 희망적인 미래를 열고 있다.'
</pre></table></code></div></div><h2 id="9-에이전트-">9. 에이전트 🤖🤖</h2><p>공식 LangChain 문서에서는 에이전트를 완벽하게 설명하고 있습니다:</p><blockquote><p>어떤 응용 프로그램은 LLMs/다른 도구에 대한 사전에 정해진 연쇄 호출만을 필요로 하지 않을 수 있으며, 사용자의 입력에 따라 <strong>알 수 없는 연쇄</strong>가 될 수 있습니다. 이러한 유형의 연쇄에서는 여러 도구에 액세스할 수 있는 “에이전트”가 있습니다. 사용자의 입력에 따라 에이전트는 이러한 도구 중 어떤 것을 <strong>호출할지 결정</strong>할 수 있습니다.</p></blockquote><p>기본적으로 LLM을 텍스트 출력뿐만 아니라 의사 결정을 위해 사용합니다.</p><p>Sam Altman은 LLM이 좋은 ‘<a href="https://www.youtube.com/watch?v=L_Guz73e6fw&amp;t=867s" target="_blank">추론 엔진</a>‘이라고 강조합니다. 에이전트는 이를 활용합니다.</p><h3 id="1-에이전트">1) 에이전트</h3><p>의사 결정을 주도하는 언어 모델입니다.</p><p>더 구체적으로, 에이전트는 입력을 받아들이고 행동 입력과 함께 취할 행동에 대한 응답을 반환합니다. 다양한 유형의 에이전트들 (다른 사용 사례에 더 적합한)을 <a href="https://python.langchain.com/en/latest/modules/agents/agent_types.html" target="_blank">여기</a>에서 볼 수 있습니다.</p><h3 id="2-도구">2) 도구</h3><p>에이전트의 ‘능력’입니다. 이것은 LLMs (그리고 에이전트)가 쉽게 상호 작용할 수 있게 하는 함수 위의 추상화입니다. 예: 구글 검색.</p><p>이 영역은 <a href="https://platform.openai.com/docs/plugins/introduction" target="_blank">OpenAI 플러그인</a>과 공통점을 공유합니다.</p><h3 id="3-툴킷">3) 툴킷</h3><p>당신의 에이전트가 선택할 수 있는 도구 그룹입니다.</p><p>이제 모든 것을 함께 가져와 봅시다:</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">langchain.agents</span> <span class="kn">import</span> <span class="n">load_tools</span>
<span class="kn">from</span> <span class="nn">langchain.agents</span> <span class="kn">import</span> <span class="n">initialize_agent</span>
<span class="kn">from</span> <span class="nn">langchain.llms</span> <span class="kn">import</span> <span class="n">OpenAI</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">llm</span> <span class="o">=</span> <span class="n">OpenAI</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">openai_api_key</span><span class="o">=</span><span class="n">openai_api_key</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c1"># SerpApi는 "Search Engine Results Page API"의 약어로, 검색 엔진 결과 페이지에 대한 데이터를 추출하기 위한 서비스나 도구입니다
</span><span class="n">serpapi_api_key</span><span class="o">=</span><span class="s">"YOUR SERPAPI API KEY"</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">toolkit</span> <span class="o">=</span> <span class="n">load_tools</span><span class="p">([</span><span class="s">"serpapi"</span><span class="p">],</span> <span class="n">llm</span><span class="o">=</span><span class="n">llm</span><span class="p">,</span> <span class="n">serpapi_api_key</span><span class="o">=</span><span class="n">serpapi_api_key</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">agent</span> <span class="o">=</span> <span class="n">initialize_agent</span><span class="p">(</span><span class="n">toolkit</span><span class="p">,</span> <span class="n">llm</span><span class="p">,</span> <span class="n">agent</span><span class="o">=</span><span class="s">"zero-shot-react-description"</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">return_intermediate_steps</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">response</span> <span class="o">=</span> <span class="n">agent</span><span class="p">({</span><span class="s">"input"</span><span class="p">:</span><span class="s">"creep은 누구의 노래인가요?"</span><span class="p">})</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>[1m&gt; Entering new AgentExecutor chain...[0m
[32;1m[1;3m 노래를 찾아보는 것이 좋을 것 같다.
Action: Search
Action Input: "creep" song[0m
Observation: [36;1m[1;3m"Creep" is the debut single by the English rock band Radiohead, released on 21 September 1992. It appeared on their debut studio album, Pablo Honey (1993).[0m
Thought:[32;1m[1;3m 라디오헤드의 노래라는 것을 알았다.
Final Answer: "Creep"은 라디오헤드의 노래입니다.[0m

[1m&gt; Finished chain.[0m
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">[</span><span class="s">"intermediate_steps"</span><span class="p">])</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>[(AgentAction(tool='Search', tool_input='creep" song', log=' 노래를 찾아보는 것이 좋을 것 같다.\nAction: Search\nAction Input: "creep" song'), '"Creep" is the debut single by the English rock band Radiohead, released on 21 September 1992. It appeared on their debut studio album, Pablo Honey (1993).')]
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c1"># 하입보이가 웨이크원 노래라는걸 보면, 성능은 그닥인걸로..
</span><span class="n">response</span> <span class="o">=</span> <span class="n">agent</span><span class="p">({</span><span class="s">"input"</span><span class="p">:</span><span class="s">"하입보이는 누구의 노래인가요?"</span><span class="p">})</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>[1m&gt; Entering new AgentExecutor chain...[0m
[32;1m[1;3m I should try to find out who sings this song.
Action: Search
Action Input: 하입보이 노래[0m
Observation: [36;1m[1;3m보이즈플래닛 K그룹 웨이크원 팀의 무대에서 하입보이의 하이라이트 안무가 있다. 발매후 6개월 10일이 지난 2023년 2월 12일, 인기가요에 1위 후보로 ...[0m
Thought:[32;1m[1;3m It looks like the song is by Wakeon, a K-pop group.
Final Answer: 하입보이는 보이즈플래닛 K그룹 웨이크원 팀의 노래입니다.[0m

[1m&gt; Finished chain.[0m
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">[</span><span class="s">"intermediate_steps"</span><span class="p">])</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>[(AgentAction(tool='Search', tool_input='하입보이 노래', log=' I should try to find out who sings this song.\nAction: Search\nAction Input: 하입보이 노래'), '보이즈플래닛 K그룹 웨이크원 팀의 무대에서 하입보이의 하이라이트 안무가 있다. 발매후 6개월 10일이 지난 2023년 2월 12일, 인기가요에 1위 후보로 ...')]
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/data-science/'>Data Science</a>, <a href='/categories/prompt-engineering/'>Prompt Engineering</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/langchain/" class="post-tag no-text-decoration" >LangChain</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><!-- Post sharing snippet v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=LangChain 기초 튜토리얼 파트1 - Data Include Me&url=https://datainclude.me/posts/LangChain_%EA%B8%B0%EC%B4%88_%ED%8A%9C%ED%86%A0%EB%A6%AC%EC%96%BC_%ED%8C%8C%ED%8A%B81/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=LangChain 기초 튜토리얼 파트1 - Data Include Me&u=https://datainclude.me/posts/LangChain_%EA%B8%B0%EC%B4%88_%ED%8A%9C%ED%86%A0%EB%A6%AC%EC%96%BC_%ED%8C%8C%ED%8A%B81/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=LangChain 기초 튜토리얼 파트1 - Data Include Me&url=https://datainclude.me/posts/LangChain_%EA%B8%B0%EC%B4%88_%ED%8A%9C%ED%86%A0%EB%A6%AC%EC%96%BC_%ED%8C%8C%ED%8A%B81/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><!-- The Panel on right side (Desktop views) v2.3 © 2024 Your Name MIT License --><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"><h3 data-toc-skip>Recent Update</h3><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li class="recent-item"> <a href="/posts/%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%BB%B4%ED%93%A8%ED%8C%85_%EA%B0%80%EC%83%81%ED%99%94/">클라우드 컴퓨팅 - 가상화</a> <span class="text-muted small">2024-10-28</span></li><li class="recent-item"> <a href="/posts/gemini_api_%EC%82%AC%EC%9A%A9%ED%95%B4%EB%B3%B4%EA%B8%B0/">Gemini API 사용해보기</a> <span class="text-muted small">2024-03-12</span></li><li class="recent-item"> <a href="/posts/Ollama%EC%99%80_Python_%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC%EB%A5%BC_%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC_LLaMa2%EB%A5%BC_%EB%A1%9C%EC%BB%AC%EC%97%90%EC%84%9C_%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/">Ollama와 Python 라이브러리를 이용하여 LLaMa2를 로컬에서 사용하기</a> <span class="text-muted small">2024-02-13</span></li><li class="recent-item"> <a href="/posts/Mistral_7B_Fine_Tuning/">Mistral 7B 파인튜닝(Fine Tuning)하기</a> <span class="text-muted small">2023-10-25</span></li><li class="recent-item"> <a href="/posts/Penn_Fudan%EC%9C%BC%EB%A1%9C_%EC%95%8C%EC%95%84%EB%B3%B4%EB%8A%94_%EA%B0%9D%EC%B2%B4_%ED%83%90%EC%A7%80_%EB%B6%84%ED%95%A0/">Penn-Fudan으로 알아보는 객체 탐지(Object Detection), 분할(Segmentation) with FasterRCNN</a> <span class="text-muted small">2023-10-23</span></li></ul></div><div id="access-tags"><h3 data-toc-skip>Trending Tags</h3><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/tensorflow/">Tensorflow</a> <a class="post-tag" href="/tags/sklearn/">Sklearn</a> <a class="post-tag" href="/tags/round/">Round</a> <a class="post-tag" href="/tags/python-lv0/">Python Lv0</a> <a class="post-tag" href="/tags/pca/">PCA</a> <a class="post-tag" href="/tags/eda/">EDA</a> <a class="post-tag" href="/tags/distinct/">Distinct</a> <a class="post-tag" href="/tags/random-forest/">Random Forest</a> <a class="post-tag" href="/tags/beautifulsoup/">Beautifulsoup</a> <a class="post-tag" href="/tags/baekjoon/">Baekjoon</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><h3 data-toc-skip class="pl-3 pt-2 mb-2">Contents</h3><nav id="toc" data-toggle="toc"></nav></div></div><style> .recent-item { margin-bottom: 0.5rem; } .recent-item a { color: var(--link-color); } .recent-item .small { font-size: 0.75rem; margin-left: 0.5rem; }</style></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"> <!-- Recommend the other 3 posts according to the tags and categories of the current post, if the number is not enough, use the other latest posts to supplement. v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/LangChain_%EC%82%AC%EC%9A%A9_%EC%82%AC%EB%A1%80_%ED%8A%9C%ED%86%A0%EB%A6%AC%EC%96%BC_%ED%8C%8C%ED%8A%B82/"><div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > Sep 12, 2023 <i class="unloaded">2023-09-12T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>LangChain 사용 사례 튜토리얼 파트2</h3><div class="text-muted small"><p> 해당 쿡북은 LangChain Cookbook Part 2 - Use Cases를 한글로 번역한 것이며 LangChain Conceptual Documentation를 기반으로 작성 되었습니다. 목표: ELI5예제와 코드를 통해 LangChain의 구성 요소와 사용 사례에 대한 기본적인 이해를 제공합니다. LangChain의 기본 원칙에 대한 소개...</p></div></div></a></div><div class="card"> <a href="/posts/%EB%BD%90%EB%BF%8C_%ED%8A%B9%EA%B0%80_%EB%8D%B0%EC%9D%B4%ED%84%B0_%EB%B6%84%EC%84%9D_%ED%95%98%EA%B8%B0/"><div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > Aug 25, 2023 <i class="unloaded">2023-08-25T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>뽐뿌 특가 데이터 분석 하기</h3><div class="text-muted small"><p> 나는 현명한 소비자가 되기 위해 항상 최적의 가격과 가성비 있는 상품을 찾는 데 큰 관심을 가지고 있다. 이러한 관심은 소비 습관을 개선하고 특별한 노하우를 가지게 되는데 큰 도움을 주었다. 데이터 사이언티스트로서 이 노하우를 활용하여 대표적인 특가 정보 커뮤니티인 ‘뽐뿌’의 특가 데이터를 분석하려고 한다. ‘뽐뿌’는 연간 약 2만 5천개의 특가 게시...</p></div></div></a></div><div class="card"> <a href="/posts/%EA%B5%AC%EA%B8%80_colab%EA%B3%BC_vscode_%EC%97%B0%EB%8F%99%ED%95%98%EA%B8%B0/"><div class="card-body"> <!-- Date format snippet v2.4.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <span class="timeago small" > Jan 23, 2022 <i class="unloaded">2022-01-23T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>구글 colab과 vscode 연동하기</h3><div class="text-muted small"><p> 0. 들어가며 구글 코랩은 굉장히 가성비가 좋은 데이터분석툴이다. 쥬피터와 비슷한 환경을 가지고 있어 사용하는데 어색하지 않으며, GPU를 무료로 빌려주어 딥러닝 학습에도 많이 사용한다. vscode와 연동하여, 굳이 코랩으로 사용하지 않고 vscode 환경에서 사용하는 방법을 소개하려한다. 1. ngrok 설치 https://d...</p></div></div></a></div></div></div><!-- Navigation buttons at the bottom of the post. v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --><div class="post-navigation d-flex justify-content-between"> <a href="/posts/%EB%BD%90%EB%BF%8C_%ED%8A%B9%EA%B0%80_%EB%8D%B0%EC%9D%B4%ED%84%B0_%EB%B6%84%EC%84%9D_%ED%95%98%EA%B8%B0/" class="btn btn-outline-primary"><p>뽐뿌 특가 데이터 분석 하기</p></a> <a href="/posts/PCA_tSNE_LDA%EC%9C%BC%EB%A1%9C_%EC%95%8C%EC%95%84%EB%B3%B4%EB%8A%94_%EC%B0%A8%EC%9B%90_%EC%B6%95%EC%86%8C/" class="btn btn-outline-primary"><p>PCA, t-SNE, LDA으로 알아보는 차원 축소</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script></div><!-- The Search results v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/tensorflow/">Tensorflow</a> <a class="post-tag" href="/tags/sklearn/">Sklearn</a> <a class="post-tag" href="/tags/round/">Round</a> <a class="post-tag" href="/tags/python-lv0/">Python Lv0</a> <a class="post-tag" href="/tags/pca/">PCA</a> <a class="post-tag" href="/tags/eda/">EDA</a> <a class="post-tag" href="/tags/distinct/">Distinct</a> <a class="post-tag" href="/tags/random-forest/">Random Forest</a> <a class="post-tag" href="/tags/beautifulsoup/">Beautifulsoup</a> <a class="post-tag" href="/tags/baekjoon/">Baekjoon</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <!-- The GA snippet v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <!-- Jekyll Simple Search loader v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://datainclude.me{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
